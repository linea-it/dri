var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var d=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;while(!(h=b.next()).done){d.push(c.call(g,h.value))}}else {var i=b.length;for(var e=0;e<i;e++){d.push(c.call(g,b[e]))}}return d};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,e){var b=this;if(b instanceof String){b=String(b)}var f=b.length;for(var c=e||0;c<f;c++){if(b[c]==d||Object.is(b[c],d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es6','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];delete b[a];try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a|'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){var b=this.onSettledCallbacks_;for(var a=0;a<b.length;++a){b[a].call();b[a]=null}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(function(){d.asyncExecute(callback)})}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.executeAsyncGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if(isConformant()){return c}var a='$jscomp_hidden_'+Math.random().toString().substring(2);function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){var g=!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(j){return !1}}();if(g){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(e,d){var a=c(this,e);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:d};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=d}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=i(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var h=0;var i=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++h;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(c,d,h){c=Number(c);d=Number(d);var b,g,f;var e=Math.max(Math.abs(c),Math.abs(d));for(b=2;b<arguments.length;b++){e=Math.max(e,Math.abs(arguments[b]))}if(e>1.0E100||e<1.0E-100){c=c/e;d=d/e;f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/e;f+=g*g}return Math.sqrt(f)*e}else {f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Object.assign',function(a){if(a){return a}var b=function(e,f){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(!b){continue}for(var c in b){if($jscomp.owns(b,c)){e[c]=b[c]}}}return e};return b},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){var c=!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}();if(c){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(b){function isConformant(){if(!b||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var a=new b([c]);if(!a.has(c)||a.has(d)){return !1}a['delete'](c);a.add(d);return !a.has(c)&&a.has(d)}catch(e){return !1}}if(isConformant()){return b}var a=function(a){this.map_=new WeakMap();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};a.prototype.add=function(a){this.map_.set(a,!0);return this};a.prototype.has=function(a){return this.map_.has(a)};a.prototype['delete']=function(a){return this.map_['delete'](a)};return a},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}!function(d,b,c){function n(){var e=d.L;a.noConflict=function(){return d.L=e,this},d.L=a}var a={version:'1.0.0-rc.1+b2d7cf1'};'object'==typeof module&&'object'==typeof module.exports?module.exports=a:'function'==typeof define&&define.amd&&define(a),'undefined'!=typeof d&&n(),a.Util={extend:function(h){var e,a,g,f;for(a=1,g=arguments.length;a<g;a++){f=arguments[a];for(e in f){h[e]=f[e]}}return h},create:Object.create||function(){function t(){}return function(a){return t.prototype=a,new t()}}(),bind:function(a,g){var e=Array.prototype.slice;if(a.bind){return a.bind.apply(a,e.call(arguments,1))}var f=e.call(arguments,2);return function(){return a.apply(g,f.length?f.concat(e.call(arguments)):arguments)}},stamp:function(e){return e._leaflet_id=e._leaflet_id||++a.Util.lastId,e._leaflet_id},lastId:0,throttle:function(j,i,f){var e,a,h,g;return g=function(){e=!1,a&&(h.apply(f,a),a=!1)},h=function(){e?a=arguments:(j.apply(f,arguments),setTimeout(g,i),e=!0)}},wrapNum:function(f,g,i){var h=g[1],a=g[0],e=h-a;return f===h&&i?f:((f-a)%e+e)%e+a},falseFn:function(){return !1},formatNum:function(f,e){var a=Math.pow(10,e||5);return Math.round(f*a)/a},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,'')},splitWords:function(e){return a.Util.trim(e).split(/\s+/)},setOptions:function(e,f){e.hasOwnProperty('options')||(e.options=e.options?a.Util.create(e.options):{});for(var g in f){e.options[g]=f[g]}return e.options},getParamString:function(g,e,h){var f=[];for(var a in g){f.push(encodeURIComponent(h?a.toUpperCase():a)+'='+encodeURIComponent(g[a]))}return (e&&e.indexOf('?')!==-1?'&':'?')+f.join('&')},template:function(f,e){return f.replace(a.Util.templateRe,function(h,g){var a=e[g];if(a===c){throw new Error('No value provided for variable '+h)}return 'function'==typeof a&&(a=a(e)),a})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(a){return '[object Array]'===Object.prototype.toString.call(a)},indexOf:function(e,f){for(var a=0;a<e.length;a++){if(e[a]===f){return a}}return -1},emptyImageUrl:'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='},function(){function e(a){return d['webkit'+a]||d['moz'+a]||d['ms'+a]}function i(g){var a=+new Date(),e=Math.max(0,16-(a-f));return f=a+e,d.setTimeout(g,e)}var f=0,g=d.requestAnimationFrame||e('RequestAnimationFrame')||i,h=d.cancelAnimationFrame||e('CancelAnimationFrame')||e('CancelRequestAnimationFrame')||function(a){d.clearTimeout(a)};a.Util.requestAnimFrame=function(e,f,h){return h&&g===i?void e.call(f):g.call(d,a.bind(e,f))},a.Util.cancelAnimFrame=function(a){a&&h.call(d,a)}}(),a.extend=a.Util.extend,a.bind=a.Util.bind,a.stamp=a.Util.stamp,a.setOptions=a.Util.setOptions,a.Class=function(){},a.Class.extend=function(f){var g=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=g.__super__=this.prototype,e=a.Util.create(i);e.constructor=g,g.prototype=e;for(var h in this){this.hasOwnProperty(h)&&'prototype'!==h&&(g[h]=this[h])}return f.statics&&(a.extend(g,f.statics),delete f.statics),f.includes&&(a.Util.extend.apply(null,[e].concat(f.includes)),delete f.includes),e.options&&(f.options=a.Util.extend(a.Util.create(e.options),f.options)),a.extend(e,f),e._initHooks=[],e.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,g=e._initHooks.length;a<g;a++){e._initHooks[a].call(this)}}},g},a.Class.include=function(e){return a.extend(this.prototype,e),this},a.Class.mergeOptions=function(e){return a.extend(this.prototype.options,e),this},a.Class.addInitHook=function(a){var e=Array.prototype.slice.call(arguments,1),f='function'==typeof a?a:function(){this[a].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this},a.Evented=a.Class.extend({on:function(e,g,i){if('object'==typeof e){for(var h in e){this._on(h,e[h],g)}}else {e=a.Util.splitWords(e);for(var f=0,j=e.length;f<j;f++){this._on(e[f],g,i)}}return this},off:function(e,g,i){if(e){if('object'==typeof e){for(var h in e){this._off(h,e[h],g)}}else {e=a.Util.splitWords(e);for(var f=0,j=e.length;f<j;f++){this._off(e[f],g,i)}}}else {delete this._events}return this},_on:function(f,h,g){var e=this._events=this._events||{},m=g&&g!==this&&a.stamp(g);if(m){var l=f+'_idx',i=f+'_len',j=e[l]=e[l]||{},k=a.stamp(h)+'_'+m;j[k]||(j[k]={fn:h,ctx:g},e[i]=(e[i]||0)+1)}else {e[f]=e[f]||[],e[f].push({fn:h})}},_off:function(h,l,m){var k,e,f,i,g=this._events,n=h+'_idx',p=h+'_len';if(g){if(!l){e=g[n];for(f in e){e[f].fn=a.Util.falseFn}for(e=g[h]||[],f=0,i=e.length;f<i;f++){e[f].fn=a.Util.falseFn}return delete g[h],delete g[n],void delete g[p]}var j,o=m&&m!==this&&a.stamp(m);if(o){j=a.stamp(l)+'_'+o,e=g[n],e&&e[j]&&(k=e[j],delete e[j],g[p]--)}else {if(e=g[h]){for(f=0,i=e.length;f<i;f++){if(e[f].fn===l){k=e[f],e.splice(f,1);break}}}}k&&(k.fn=a.Util.falseFn)}},fire:function(e,n,m){if(!this.listens(e,m)){return this}var j=a.Util.extend({},n,{type:e,target:this}),g=this._events;if(g){var f,l,h,i,k=g[e+'_idx'];if(g[e]){for(h=g[e].slice(),f=0,l=h.length;f<l;f++){h[f].fn.call(this,j)}}for(i in k){k[i].fn.call(k[i].ctx,j)}}return m&&this._propagateEvent(j),this},listens:function(e,f){var a=this._events;if(a&&(a[e]||a[e+'_len'])){return !0}if(f){for(var g in this._eventParents){if(this._eventParents[g].listens(e,f)){return !0}}}return !1},once:function(e,g,f){if('object'==typeof e){for(var h in e){this.once(h,e[h],g)}return this}var i=a.bind(function(){this.off(e,g,f).off(e,i,f)},this);return this.on(e,g,f).on(e,i,f)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a.stamp(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a.stamp(e)],this},_propagateEvent:function(e){for(var f in this._eventParents){this._eventParents[f].fire(e.type,a.extend({layer:e.target},e),!0)}}});var e=a.Evented.prototype;e.addEventListener=e.on,e.removeEventListener=e.clearAllEventListeners=e.off,e.addOneTimeEventListener=e.once,e.fireEvent=e.fire,e.hasEventListeners=e.listens,a.Mixin={Events:e},function(){var e=navigator.userAgent.toLowerCase(),i=b.documentElement,g='ActiveXObject' in d,j=e.indexOf('webkit')!==-1,s=e.indexOf('phantom')!==-1,m=e.search('android [23]')!==-1,n=e.indexOf('chrome')!==-1,q=e.indexOf('gecko')!==-1&&!j&&!d.opera&&!g,t=0===navigator.platform.indexOf('Win'),f='undefined'!=typeof orientation||e.indexOf('mobile')!==-1,k=!d.PointerEvent&&d.MSPointerEvent,o=d.PointerEvent||k,p=g&&'transition' in i.style,h='WebKitCSSMatrix' in d&&'m11' in new d.WebKitCSSMatrix()&&!m,l='MozPerspective' in i.style,r='OTransition' in i.style,u=!d.L_NO_TOUCH&&(o||'ontouchstart' in d||d.DocumentTouch&&b instanceof d.DocumentTouch);a.Browser={ie:g,ielt9:g&&!b.addEventListener,edge:'msLaunchUri' in navigator&&!('documentMode' in b),webkit:j,gecko:q,android:e.indexOf('android')!==-1,android23:m,chrome:n,safari:!n&&e.indexOf('safari')!==-1,win:t,ie3d:p,webkit3d:h,gecko3d:l,opera12:r,any3d:!d.L_DISABLE_3D&&(p||h||l)&&!r&&!s,mobile:f,mobileWebkit:f&&j,mobileWebkit3d:f&&h,mobileOpera:f&&d.opera,mobileGecko:f&&q,touch:!!u,msPointer:!!k,pointer:!!o,retina:(d.devicePixelRatio||d.screen.deviceXDPI/d.screen.logicalXDPI)>1}}(),a.Point=function(f,a,e){this.x=e?Math.round(f):f,this.y=e?Math.round(a):a},a.Point.prototype={clone:function(){return new a.Point(this.x,this.y)},add:function(e){return this.clone()._add(a.point(e))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(e){return this.clone()._subtract(a.point(e))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(e){return new a.Point(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new a.Point(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(e){e=a.point(e);var f=e.x-this.x,g=e.y-this.y;return Math.sqrt(f*f+g*g)},equals:function(e){return e=a.point(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=a.point(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return 'Point('+a.Util.formatNum(this.x)+', '+a.Util.formatNum(this.y)+')'}},a.point=function(e,f,g){return e instanceof a.Point?e:a.Util.isArray(e)?new a.Point(e[0],e[1]):e===c||null===e?e:'object'==typeof e&&'x' in e&&'y' in e?new a.Point(e.x,e.y):new a.Point(e,f,g)},a.Bounds=function(e,f){if(e){for(var g=f?[e,f]:e,a=0,h=g.length;a<h;a++){this.extend(g[a])}}},a.Bounds.prototype={extend:function(e){return e=a.point(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new a.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new a.Point(this.min.x,this.max.y)},getTopRight:function(){return new a.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var f,g;return e='number'==typeof e[0]||e instanceof a.Point?a.point(e):a.bounds(e),e instanceof a.Bounds?(f=e.min,g=e.max):f=g=e,f.x>=this.min.x&&g.x<=this.max.x&&f.y>=this.min.y&&g.y<=this.max.y},intersects:function(e){e=a.bounds(e);var f=this.min,g=this.max,h=e.min,i=e.max,k=i.x>=f.x&&h.x<=g.x,j=i.y>=f.y&&h.y<=g.y;return k&&j},overlaps:function(e){e=a.bounds(e);var f=this.min,g=this.max,h=e.min,i=e.max,k=i.x>f.x&&h.x<g.x,j=i.y>f.y&&h.y<g.y;return k&&j},isValid:function(){return !(!this.min||!this.max)}},a.bounds=function(e,f){return !e||e instanceof a.Bounds?e:new a.Bounds(e,f)},a.Transformation=function(g,a,e,f){this._a=g,this._b=a,this._c=e,this._d=f},a.Transformation.prototype={transform:function(e,a){return this._transform(e.clone(),a)},_transform:function(a,e){return e=e||1,a.x=e*(this._a*a.x+this._b),a.y=e*(this._c*a.y+this._d),a},untransform:function(f,e){return e=e||1,new a.Point((f.x/e-this._b)/this._a,(f.y/e-this._d)/this._c)}},a.DomUtil={get:function(a){return 'string'==typeof a?b.getElementById(a):a},getStyle:function(e,f){var a=e.style[f]||e.currentStyle&&e.currentStyle[f];if((!a||'auto'===a)&&b.defaultView){var g=b.defaultView.getComputedStyle(e,null);a=g?g[f]:null}return 'auto'===a?null:a},create:function(g,f,e){var a=b.createElement(g);return a.className=f||'',e&&e.appendChild(a),a},remove:function(e){var a=e.parentNode;a&&a.removeChild(e)},empty:function(a){for(;a.firstChild;){a.removeChild(a.firstChild)}},toFront:function(a){a.parentNode.appendChild(a)},toBack:function(e){var a=e.parentNode;a.insertBefore(e,a.firstChild)},hasClass:function(e,f){if(e.classList!==c){return e.classList.contains(f)}var g=a.DomUtil.getClass(e);return g.length>0&&(new RegExp('(^|\\s)'+f+'(\\s|$)')).test(g)},addClass:function(e,f){if(e.classList!==c){for(var i=a.Util.splitWords(f),g=0,j=i.length;g<j;g++){e.classList.add(i[g])}}else {if(!a.DomUtil.hasClass(e,f)){var h=a.DomUtil.getClass(e);a.DomUtil.setClass(e,(h?h+' ':'')+f)}}},removeClass:function(e,f){e.classList!==c?e.classList.remove(f):a.DomUtil.setClass(e,a.Util.trim((' '+a.DomUtil.getClass(e)+' ').replace(' '+f+' ',' ')))},setClass:function(a,e){a.className.baseVal===c?a.className=e:a.className.baseVal=e},getClass:function(a){return a.className.baseVal===c?a.className:a.className.baseVal},setOpacity:function(e,f){'opacity' in e.style?e.style.opacity=f:'filter' in e.style&&a.DomUtil._setOpacityIE(e,f)},_setOpacityIE:function(g,a){var e=!1,f='DXImageTransform.Microsoft.Alpha';try{e=g.filters.item(f)}catch(i){if(1===a){return}}a=Math.round(100*a),e?(e.Enabled=100!==a,e.Opacity=a):g.style.filter+=' progid:'+f+'(opacity='+a+')'},testProp:function(e){for(var f=b.documentElement.style,a=0;a<e.length;a++){if(e[a] in f){return e[a]}}return !1},setTransform:function(h,g,f){var e=g||new a.Point(0,0);h.style[a.DomUtil.TRANSFORM]=(a.Browser.ie3d?'translate('+e.x+'px,'+e.y+'px)':'translate3d('+e.x+'px,'+e.y+'px,0)')+(f?' scale('+f+')':'')},setPosition:function(f,e){f._leaflet_pos=e,a.Browser.any3d?a.DomUtil.setTransform(f,e):(f.style.left=e.x+'px',f.style.top=e.y+'px')},getPosition:function(e){return e._leaflet_pos||new a.Point(0,0)}},function(){a.DomUtil.TRANSFORM=a.DomUtil.testProp(['transform','WebkitTransform','OTransform','MozTransform','msTransform']);var f=a.DomUtil.TRANSITION=a.DomUtil.testProp(['webkitTransition','transition','OTransition','MozTransition','msTransition']);if(a.DomUtil.TRANSITION_END='webkitTransition'===f||'OTransition'===f?f+'End':'transitionend','onselectstart' in b){a.DomUtil.disableTextSelection=function(){a.DomEvent.on(d,'selectstart',a.DomEvent.preventDefault)},a.DomUtil.enableTextSelection=function(){a.DomEvent.off(d,'selectstart',a.DomEvent.preventDefault)}}else {var e=a.DomUtil.testProp(['userSelect','WebkitUserSelect','OUserSelect','MozUserSelect','msUserSelect']);a.DomUtil.disableTextSelection=function(){if(e){var a=b.documentElement.style;this._userSelect=a[e],a[e]='none'}},a.DomUtil.enableTextSelection=function(){e&&(b.documentElement.style[e]=this._userSelect,delete this._userSelect)}}a.DomUtil.disableImageDrag=function(){a.DomEvent.on(d,'dragstart',a.DomEvent.preventDefault)},a.DomUtil.enableImageDrag=function(){a.DomEvent.off(d,'dragstart',a.DomEvent.preventDefault)},a.DomUtil.preventOutline=function(e){for(;e.tabIndex===-1;){e=e.parentNode}e&&e.style&&(a.DomUtil.restoreOutline(),this._outlineElement=e,this._outlineStyle=e.style.outline,e.style.outline='none',a.DomEvent.on(d,'keydown',a.DomUtil.restoreOutline,this))},a.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,a.DomEvent.off(d,'keydown',a.DomUtil.restoreOutline,this))}}(),a.LatLng=function(e,a,f){if(isNaN(e)||isNaN(a)){throw new Error('Invalid LatLng object: ('+e+', '+a+')')}this.lat=+e,this.lng=+a,f!==c&&(this.alt=+f)},a.LatLng.prototype={equals:function(e,f){if(!e){return !1}e=a.latLng(e);var g=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return g<=(f===c?1.0E-9:f)},toString:function(e){return 'LatLng('+a.Util.formatNum(this.lat,e)+', '+a.Util.formatNum(this.lng,e)+')'},distanceTo:function(e){return a.CRS.Earth.distance(this,a.latLng(e))},wrap:function(){return a.CRS.Earth.wrapLatLng(this)},toBounds:function(g){var e=180*g/40075017,f=e/Math.cos(Math.PI/180*this.lat);return a.latLngBounds([this.lat-e,this.lng-f],[this.lat+e,this.lng+f])},clone:function(){return new a.LatLng(this.lat,this.lng,this.alt)}},a.latLng=function(e,f,g){return e instanceof a.LatLng?e:a.Util.isArray(e)&&'object'!=typeof e[0]?3===e.length?new a.LatLng(e[0],e[1],e[2]):2===e.length?new a.LatLng(e[0],e[1]):null:e===c||null===e?e:'object'==typeof e&&'lat' in e?new a.LatLng(e.lat,'lng' in e?e.lng:e.lon,e.alt):f===c?null:new a.LatLng(e,f,g)},a.LatLngBounds=function(e,f){if(e){for(var g=f?[e,f]:e,a=0,h=g.length;a<h;a++){this.extend(g[a])}}},a.LatLngBounds.prototype={extend:function(e){var f,g,h=this._southWest,i=this._northEast;if(e instanceof a.LatLng){f=e,g=e}else {if(!(e instanceof a.LatLngBounds)){return e?this.extend(a.latLng(e)||a.latLngBounds(e)):this}if(f=e._southWest,g=e._northEast,!f||!g){return this}}return h||i?(h.lat=Math.min(f.lat,h.lat),h.lng=Math.min(f.lng,h.lng),i.lat=Math.max(g.lat,i.lat),i.lng=Math.max(g.lng,i.lng)):(this._southWest=new a.LatLng(f.lat,f.lng),this._northEast=new a.LatLng(g.lat,g.lng)),this},pad:function(i){var e=this._southWest,f=this._northEast,g=Math.abs(e.lat-f.lat)*i,h=Math.abs(e.lng-f.lng)*i;return new a.LatLngBounds(new a.LatLng(e.lat-g,e.lng-h),new a.LatLng(f.lat+g,f.lng+h))},getCenter:function(){return new a.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new a.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new a.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e='number'==typeof e[0]||e instanceof a.LatLng?a.latLng(e):a.latLngBounds(e);var f,g,h=this._southWest,i=this._northEast;return e instanceof a.LatLngBounds?(f=e.getSouthWest(),g=e.getNorthEast()):f=g=e,f.lat>=h.lat&&g.lat<=i.lat&&f.lng>=h.lng&&g.lng<=i.lng},intersects:function(e){e=a.latLngBounds(e);var f=this._southWest,g=this._northEast,h=e.getSouthWest(),i=e.getNorthEast(),k=i.lat>=f.lat&&h.lat<=g.lat,j=i.lng>=f.lng&&h.lng<=g.lng;return k&&j},overlaps:function(e){e=a.latLngBounds(e);var f=this._southWest,g=this._northEast,h=e.getSouthWest(),i=e.getNorthEast(),k=i.lat>f.lat&&h.lat<g.lat,j=i.lng>f.lng&&h.lng<g.lng;return k&&j},toBBoxString:function(){return [this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(',')},equals:function(e){return !!e&&(e=a.latLngBounds(e),this._southWest.equals(e.getSouthWest())&&this._northEast.equals(e.getNorthEast()))},isValid:function(){return !(!this._southWest||!this._northEast)}},a.latLngBounds=function(e,f){return e instanceof a.LatLngBounds?e:new a.LatLngBounds(e,f)},a.Projection={},a.Projection.LonLat={project:function(e){return new a.Point(e.lng,e.lat)},unproject:function(e){return new a.LatLng(e.y,e.x)},bounds:a.bounds([-180,-90],[180,90])},a.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(h){var e=Math.PI/180,f=this.MAX_LATITUDE,i=Math.max(Math.min(f,h.lat),-f),g=Math.sin(i*e);return new a.Point(this.R*h.lng*e,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(f){var e=180/Math.PI;return new a.LatLng((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*e,f.x*e/this.R)},bounds:function(){var e=6378137*Math.PI;return a.bounds([-e,-e],[e,e])}()},a.CRS={latLngToPoint:function(g,a){var e=this.projection.project(g),f=this.scale(a);return this.transformation._transform(e,f)},pointToLatLng:function(g,a){var e=this.scale(a),f=this.transformation.untransform(g,e);return this.projection.unproject(f)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite){return null}var e=this.projection.bounds,f=this.scale(i),g=this.transformation.transform(e.min,f),h=this.transformation.transform(e.max,f);return a.bounds(g,h)},infinite:!1,wrapLatLng:function(e){var f=this.wrapLng?a.Util.wrapNum(e.lng,this.wrapLng,!0):e.lng,g=this.wrapLat?a.Util.wrapNum(e.lat,this.wrapLat,!0):e.lat,h=e.alt;return a.latLng(g,f,h)}},a.CRS.Simple=a.extend({},a.CRS,{projection:a.Projection.LonLat,transformation:new a.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(g,a){var e=a.lng-g.lng,f=a.lat-g.lat;return Math.sqrt(e*e+f*f)},infinite:!0}),a.CRS.Earth=a.extend({},a.CRS,{wrapLng:[-180,180],R:6371000,distance:function(h,e){var a=Math.PI/180,f=h.lat*a,g=e.lat*a,i=Math.sin(f)*Math.sin(g)+Math.cos(f)*Math.cos(g)*Math.cos((e.lng-h.lng)*a);return this.R*Math.acos(Math.min(i,1))}}),a.CRS.EPSG3857=a.extend({},a.CRS.Earth,{code:'EPSG:3857',projection:a.Projection.SphericalMercator,transformation:function(){var e=0.5/(Math.PI*a.Projection.SphericalMercator.R);return new a.Transformation(e,0.5,-e,0.5)}()}),a.CRS.EPSG900913=a.extend({},a.CRS.EPSG3857,{code:'EPSG:900913'}),a.CRS.EPSG4326=a.extend({},a.CRS.Earth,{code:'EPSG:4326',projection:a.Projection.LonLat,transformation:new a.Transformation(1/180,1,-1/180,0.5)}),a.Map=a.Evented.extend({options:{crs:a.CRS.EPSG3857,center:c,zoom:c,minZoom:c,maxZoom:c,layers:[],maxBounds:c,renderer:c,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,e){e=a.setOptions(this,e),this._initContainer(f),this._initLayout(),this._onResize=a.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==c&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==c&&this.setView(a.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(f,e){return e=e===c?this.getZoom():e,this._resetView(a.latLng(f),e),this},setZoom:function(a,e){return this._loaded?this.setView(this.getCenter(),a,{zoom:e}):(this._zoom=a,this)},zoomIn:function(e,f){return e=e||(a.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,f)},zoomOut:function(e,f){return e=e||(a.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,f)},setZoomAround:function(e,f,j){var k=this.getZoomScale(f),g=this.getSize().divideBy(2),l=e instanceof a.Point?e:this.latLngToContainerPoint(e),h=l.subtract(g).multiplyBy(1-1/k),i=this.containerPointToLatLng(g.add(h));return this.setView(i,f,{zoom:j})},_getBoundsCenterZoom:function(g,e){e=e||{},g=g.getBounds?g.getBounds():a.latLngBounds(g);var h=a.point(e.paddingTopLeft||e.padding||[0,0]),i=a.point(e.paddingBottomRight||e.padding||[0,0]),f=this.getBoundsZoom(g,!1,h.add(i));f='number'==typeof e.maxZoom?Math.min(e.maxZoom,f):f;var m=i.subtract(h).divideBy(2),j=this.project(g.getSouthWest(),f),k=this.project(g.getNorthEast(),f),l=this.unproject(j.add(k).divideBy(2).add(m),f);return {center:l,zoom:f}},fitBounds:function(e,f){if(e=a.latLngBounds(e),!e.isValid()){throw new Error('Bounds are not valid.')}var g=this._getBoundsCenterZoom(e,f);return this.setView(g.center,g.zoom,f)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(e,a){return this.setView(e,this._zoom,{pan:a})},panBy:function(e){return this.fire('movestart'),this._rawPanBy(a.point(e)),this.fire('move'),this.fire('moveend')},setMaxBounds:function(e){return e=a.latLngBounds(e),e.isValid()?(this.options.maxBounds&&this.off('moveend',this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on('moveend',this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off('moveend',this._panInsideMaxBounds))},setMinZoom:function(a){return this.options.minZoom=a,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(a):this},setMaxZoom:function(a){return this.options.maxZoom=a,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(a):this},panInsideBounds:function(h,g){this._enforcingBounds=!0;var e=this.getCenter(),f=this._limitCenter(e,this._zoom,a.latLngBounds(h));return e.equals(f)||this.panTo(f,g),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded){return this}e=a.extend({animate:!1,pan:!0},e===!0?{animate:!0}:e);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),i=g.divideBy(2).round(),j=h.divideBy(2).round(),f=i.subtract(j);return f.x||f.y?(e.animate&&e.pan?this.panBy(f):(e.pan&&this._rawPanBy(f),this.fire('move'),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a.bind(this.fire,this,'moveend'),200)):this.fire('moveend')),this.fire('resize',{oldSize:g,newSize:h})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire('viewreset'),this._stop()},addHandler:function(f,a){if(!a){return this}var e=this[f]=new a(this);return this._handlers.push(e),this.options[f]&&e.enable(),this},remove:function(){this._initEvents(!0);try{delete this._container._leaflet}catch(i){this._container._leaflet=c}a.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire('unload');for(var e in this._layers){this._layers[e].remove()}return this},createPane:function(e,g){var h='leaflet-pane'+(e?' leaflet-'+e.replace('Pane','')+'-pane':''),f=a.DomUtil.create('div',h,g||this._mapPane);return e&&(this._panes[e]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),f=this.unproject(e.getBottomLeft()),g=this.unproject(e.getTopRight());return new a.LatLngBounds(f,g)},getMinZoom:function(){return this.options.minZoom===c?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===c?this._layersMaxZoom===c?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(g,m,h){g=a.latLngBounds(g),h=a.point(h||[0,0]);var e=this.getZoom()||0,p=this.getMinZoom(),o=this.getMaxZoom(),k=g.getNorthWest(),n=g.getSouthEast(),i=this.getSize().subtract(h),j=this.project(n,e).subtract(this.project(k,e)),f=a.Browser.any3d?this.options.zoomSnap:1,l=Math.min(i.x/j.x,i.y/j.y);return e=this.getScaleZoom(l,e),f&&(e=Math.round(e/(f/100))*(f/100),e=m?Math.ceil(e/f)*f:Math.floor(e/f)*f),Math.max(p,Math.min(o,e))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new a.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(g,f){var e=this._getTopLeftPoint(g,f);return new a.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===c?this.getZoom():a)},getPane:function(a){return 'string'==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,a){var e=this.options.crs;return a=a===c?this._zoom:a,e.scale(f)/e.scale(a)},getScaleZoom:function(f,a){var e=this.options.crs;return a=a===c?this._zoom:a,e.zoom(f*e.scale(a))},project:function(f,e){return e=e===c?this._zoom:e,this.options.crs.latLngToPoint(a.latLng(f),e)},unproject:function(f,e){return e=e===c?this._zoom:e,this.options.crs.pointToLatLng(a.point(f),e)},layerPointToLatLng:function(f){var e=a.point(f).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(f){var e=this.project(a.latLng(f))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(a.latLng(e))},distance:function(f,e){return this.options.crs.distance(a.latLng(f),a.latLng(e))},containerPointToLayerPoint:function(e){return a.point(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return a.point(e).add(this._getMapPanePos())},containerPointToLatLng:function(f){var e=this.containerPointToLayerPoint(a.point(f));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(a.latLng(e)))},mouseEventToContainerPoint:function(e){return a.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(f){var e=this._container=a.DomUtil.get(f);if(!e){throw new Error('Map container not found.')}if(e._leaflet){throw new Error('Map container is already initialized.')}a.DomEvent.addListener(e,'scroll',this._onScroll,this),e._leaflet=!0},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&a.Browser.any3d,a.DomUtil.addClass(f,'leaflet-container'+(a.Browser.touch?' leaflet-touch':'')+(a.Browser.retina?' leaflet-retina':'')+(a.Browser.ielt9?' leaflet-oldie':'')+(a.Browser.safari?' leaflet-safari':'')+(this._fadeAnimated?' leaflet-fade-anim':''));var e=a.DomUtil.getStyle(f,'position');'absolute'!==e&&'relative'!==e&&'fixed'!==e&&(f.style.position='relative'),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane('mapPane',this._container),a.DomUtil.setPosition(this._mapPane,new a.Point(0,0)),this.createPane('tilePane'),this.createPane('shadowPane'),this.createPane('overlayPane'),this.createPane('markerPane'),this.createPane('popupPane'),this.options.markerZoomAnimation||(a.DomUtil.addClass(e.markerPane,'leaflet-zoom-hide'),a.DomUtil.addClass(e.shadowPane,'leaflet-zoom-hide'))},_resetView:function(h,e){a.DomUtil.setPosition(this._mapPane,new a.Point(0,0));var g=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire('viewprereset');var f=this._zoom!==e;this._moveStart(f)._move(h,e)._moveEnd(f),this.fire('viewreset'),g&&this.fire('load')},_moveStart:function(a){return a&&this.fire('zoomstart'),this.fire('movestart')},_move:function(f,a,e){a===c&&(a=this._zoom);var g=this._zoom!==a;return this._zoom=a,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),(g||e&&e.pinch)&&this.fire('zoom',e),this.fire('move',e)},_moveEnd:function(a){return a&&this.fire('zoomend'),this.fire('moveend')},_stop:function(){return a.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){a.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error('Set map center and zoom first.')}},_initEvents:function(f){if(a.DomEvent){this._targets={},this._targets[a.stamp(this._container)]=this;var e=f?'off':'on';a.DomEvent[e](this._container,'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress',this._handleDOMEvent,this),this.options.trackResize&&a.DomEvent[e](d,'resize',this._onResize,this),a.Browser.any3d&&this.options.transform3DLimit&&this[e]('moveend',this._onMoveEnd)}},_onResize:function(){a.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=a.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,g){for(var f,i=[],j='mouseout'===g||'mouseover'===g,e=h.target||h.srcElement,k=!1;e;){if(f=this._targets[a.stamp(e)],f&&('click'===g||'preclick'===g)&&!h._simulated&&this._draggableMoved(f)){k=!0;break}if(f&&f.listens(g,!0)){if(j&&!a.DomEvent._isExternalTarget(e,h)){break}if(i.push(f),j){break}}if(e===this._container){break}e=e.parentNode}return i.length||k||j||!a.DomEvent._isExternalTarget(e,h)||(i=[this]),i},_handleDOMEvent:function(e){if(this._loaded&&!a.DomEvent._skipped(e)){var f='keypress'===e.type&&13===e.keyCode?'click':e.type;'mousedown'===f&&a.DomUtil.preventOutline(e.target||e.srcElement),this._fireDOMEvent(e,f)}},_fireDOMEvent:function(f,h,e){if('click'===f.type){var k=a.Util.extend({},f);k.type='preclick',this._fireDOMEvent(k,k.type,e)}if(!f._stopped&&(e=(e||[]).concat(this._findEventTargets(f,h)),e.length)){var j=e[0];'contextmenu'===h&&j.listens(h,!0)&&a.DomEvent.preventDefault(f);var g={originalEvent:f};if('keypress'!==f.type){var l=j instanceof a.Marker;g.containerPoint=l?this.latLngToContainerPoint(j.getLatLng()):this.mouseEventToContainerPoint(f),g.layerPoint=this.containerPointToLayerPoint(g.containerPoint),g.latlng=l?j.getLatLng():this.layerPointToLatLng(g.layerPoint)}for(var i=0;i<e.length;i++){if(e[i].fire(h,g,!0),g.originalEvent._stopped||e[i].options.nonBubblingEvents&&a.Util.indexOf(e[i].options.nonBubblingEvents,h)!==-1){return}}}},_draggableMoved:function(a){return a=a.options.draggable?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,e=this._handlers.length;a<e;a++){this._handlers[a].disable()}},whenReady:function(e,a){return this._loaded?e.call(a||this,{target:this}):this.on('load',e,a),this},_getMapPanePos:function(){return a.DomUtil.getPosition(this._mapPane)||new a.Point(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(e,a){var f=e&&a!==c?this._getNewPixelOrigin(e,a):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,a){var e=this.getSize()._divideBy(2);return this.project(f,a)._subtract(e)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(g,a,e){var f=this._getNewPixelOrigin(e,a);return this.project(g,a)._subtract(f)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(g,e,i){if(!i){return g}var f=this.project(g,e),j=this.getSize().divideBy(2),k=new a.Bounds(f.subtract(j),f.add(j)),h=this._getBoundsOffset(k,i,e);return h.round().equals([0,0])?g:this.unproject(f.add(h),e)},_limitOffset:function(e,f){if(!f){return e}var g=this.getPixelBounds(),h=new a.Bounds(g.min.add(e),g.max.add(e));return e.add(this._getBoundsOffset(h,f))},_getBoundsOffset:function(j,e,f){var g=a.bounds(this.project(e.getNorthEast(),f),this.project(e.getSouthWest(),f)),i=g.min.subtract(j.min),h=g.max.subtract(j.max),k=this._rebound(i.x,-h.x),l=this._rebound(i.y,-h.y);return new a.Point(k,l)},_rebound:function(e,a){return e+a>0?Math.round(e-a)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(a))},_limitZoom:function(f){var g=this.getMinZoom(),h=this.getMaxZoom(),e=a.Browser.any3d?this.options.zoomSnap:1;return e&&(f=Math.round(f/e)*e),Math.max(g,Math.min(h,f))}}),a.map=function(f,e){return new a.Map(f,e)},a.Layer=a.Evented.extend({options:{pane:'overlayPane',nonBubblingEvents:[]},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a.stamp(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a.stamp(e)],this},_layerAdd:function(e){var a=e.target;a.hasLayer(this)&&(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents&&a.on(this.getEvents(),this),this.onAdd(a),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire('add'),a.fire('layeradd',{layer:this}))}}),a.Map.include({addLayer:function(e){var f=a.stamp(e);return this._layers[f]?this:(this._layers[f]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var f=a.stamp(e);return this._layers[f]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),e.getEvents&&this.off(e.getEvents(),e),delete this._layers[f],this._loaded&&(this.fire('layerremove',{layer:e}),e.fire('remove')),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return !!e&&a.stamp(e) in this._layers},eachLayer:function(f,a){for(var e in this._layers){f.call(a,this._layers[e])}return this},_addLayers:function(e){e=e?a.Util.isArray(e)?e:[e]:[];for(var f=0,g=e.length;f<g;f++){this.addLayer(e[f])}},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a.stamp(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(f){var e=a.stamp(f);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,a=-(1/0),g=this._getZoomSpan();for(var h in this._zoomBoundLayers){var f=this._zoomBoundLayers[h].options;e=f.minZoom===c?e:Math.min(e,f.minZoom),a=f.maxZoom===c?a:Math.max(a,f.maxZoom)}this._layersMaxZoom=a===-(1/0)?c:a,this._layersMinZoom=e===1/0?c:e,g!==this._getZoomSpan()&&this.fire('zoomlevelschange')}}),a.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:a.bounds([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(k){var h=Math.PI/180,f=this.R,e=k.lat*h,j=this.R_MINOR/f,i=Math.sqrt(1-j*j),g=i*Math.sin(e),l=Math.tan(Math.PI/4-e/2)/Math.pow((1-g)/(1+g),i/2);return e=-f*Math.log(Math.max(l,1.0E-10)),new a.Point(k.lng*h*f,e)},unproject:function(n){for(var e,j=180/Math.PI,g=this.R,m=this.R_MINOR/g,l=Math.sqrt(1-m*m),i=Math.exp(-n.y/g),f=Math.PI/2-2*Math.atan(i),k=0,h=0.1;k<15&&Math.abs(h)>1.0E-7;k++){e=l*Math.sin(f),e=Math.pow((1-e)/(1+e),l/2),h=Math.PI/2-2*Math.atan(i*e)-f,f+=h}return new a.LatLng(f*j,n.x*j/g)}},a.CRS.EPSG3395=a.extend({},a.CRS.Earth,{code:'EPSG:3395',projection:a.Projection.Mercator,transformation:function(){var e=0.5/(Math.PI*a.Projection.Mercator.R);return new a.Transformation(e,0.5,-e,0.5)}()}),a.GridLayer=a.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:a.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:c,noWrap:!1,pane:'tilePane',className:'',keepBuffer:2},initialize:function(e){e=a.setOptions(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),a.DomUtil.remove(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(a.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(a.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return b.createElement('div')},getTileSize:function(){var e=this.options.tileSize;return e instanceof a.Point?e:new a.Point(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==c&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var f,g=this.getPane().children,a=-h(-(1/0),1/0),e=0,i=g.length;e<i;e++){f=g[e].style.zIndex,g[e]!==this._container&&f&&(a=h(a,+f))}isFinite(a)&&(this.options.zIndex=a+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!a.Browser.ielt9){a.DomUtil.setOpacity(this._container,this.options.opacity);var j=+new Date(),f=!1,g=!1;for(var i in this._tiles){var e=this._tiles[i];if(e.current&&e.loaded){var h=Math.min(1,(j-e.loaded)/200);a.DomUtil.setOpacity(e.el,h),h<1?f=!0:(e.active&&(g=!0),e.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),f&&(a.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=a.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=a.DomUtil.create('div','leaflet-layer '+(this.options.className||'')),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var g=this._tileZoom,i=this.options.maxZoom;if(g===c){return c}for(var f in this._levels){this._levels[f].el.children.length||f===g?this._levels[f].el.style.zIndex=i-Math.abs(g-f):(a.DomUtil.remove(this._levels[f].el),this._removeTilesAtZoom(f),delete this._levels[f])}var e=this._levels[g],h=this._map;return e||(e=this._levels[g]={},e.el=a.DomUtil.create('div','leaflet-tile-container leaflet-zoom-animated',this._container),e.el.style.zIndex=i,e.origin=h.project(h.unproject(h.getPixelOrigin()),g).round(),e.zoom=g,this._setZoomTransform(e,h.getCenter(),h.getZoom()),a.Util.falseFn(e.el.offsetWidth)),this._level=e,e},_pruneTiles:function(){if(this._map){var f,e,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){return void this._removeAllTiles()}for(f in this._tiles){e=this._tiles[f],e.retain=e.current}for(f in this._tiles){if(e=this._tiles[f],e.current&&!e.active){var a=e.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}}for(f in this._tiles){this._tiles[f].retain||this._removeTile(f)}}},_removeTilesAtZoom:function(e){for(var a in this._tiles){this._tiles[a].coords.z===e&&this._removeTile(a)}},_removeAllTiles:function(){for(var a in this._tiles){this._removeTile(a)}},_invalidateAll:function(){for(var e in this._levels){a.DomUtil.remove(this._levels[e].el),delete this._levels[e]}this._removeAllTiles(),this._tileZoom=null},_retainParent:function(n,k,l,h){var j=Math.floor(n/2),i=Math.floor(k/2),f=l-1,g=new a.Point(+j,+i);g.z=+f;var m=this._tileCoordsToKey(g),e=this._tiles[m];return e&&e.active?(e.retain=!0,!0):(e&&e.loaded&&(e.retain=!0),f>h&&this._retainParent(j,i,f,h))},_retainChildren:function(l,j,h,k){for(var g=2*l;g<2*l+2;g++){for(var f=2*j;f<2*j+2;f++){var i=new a.Point(g,f);i.z=h+1;var m=this._tileCoordsToKey(i),e=this._tiles[m];e&&e.active?e.retain=!0:(e&&e.loaded&&(e.retain=!0),h+1<k&&this._retainChildren(g,f,h+1,k))}}},_resetView:function(a){var e=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_setView:function(g,e,f,h){var a=Math.round(e);(this.options.maxZoom!==c&&a>this.options.maxZoom||this.options.minZoom!==c&&a<this.options.minZoom)&&(a=c);var i=this.options.updateWhenZooming&&a!==this._tileZoom;h&&!i||(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),a!==c&&this._update(g),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(g,e)},_setZoomTransforms:function(f,a){for(var e in this._levels){this._setZoomTransform(this._levels[e],f,a)}},_setZoomTransform:function(e,i,f){var g=this._map.getZoomScale(f,e.zoom),h=e.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(i,f)).round();a.Browser.any3d?a.DomUtil.setTransform(e.el,h,g):a.DomUtil.setPosition(e.el,h)},_resetGrid:function(){var e=this._map,a=e.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,a.wrapLng[0]],g).x/f.x),Math.ceil(e.project([0,a.wrapLng[1]],g).x/f.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([a.wrapLat[0],0],g).y/f.x),Math.ceil(e.project([a.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._resetView()},_getTiledPixelBounds:function(j){var e=this._map,h=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(h,this._tileZoom),g=e.project(j,this._tileZoom).floor(),f=e.getSize().divideBy(2*i);return new a.Bounds(g.subtract(f),g.add(f))},_update:function(i){var m=this._map;if(m){var q=m.getZoom();if(i===c&&(i=m.getCenter()),this._tileZoom!==c){var t=this._getTiledPixelBounds(i),e=this._pxBoundsToTileRange(t),p=e.getCenter(),g=[],j=this.options.keepBuffer,s=new a.Bounds(e.getBottomLeft().subtract([j,-j]),e.getTopRight().add([j,-j]));for(var n in this._tiles){var k=this._tiles[n].coords;k.z===this._tileZoom&&s.contains(a.point(k.x,k.y))||(this._tiles[n].current=!1)}if(Math.abs(q-this._tileZoom)>1){return void this._setView(i,q)}for(var l=e.min.y;l<=e.max.y;l++){for(var f=e.min.x;f<=e.max.x;f++){var h=new a.Point(f,l);if(h.z=this._tileZoom,this._isValidTile(h)){var o=this._tiles[this._tileCoordsToKey(h)];o?o.current=!0:g.push(h)}}}if(g.sort(function(e,a){return e.distanceTo(p)-a.distanceTo(p)}),0!==g.length){this._loading||(this._loading=!0,this.fire('loading'));var r=b.createDocumentFragment();for(f=0;f<g.length;f++){this._addTile(g[f],r)}this._level.el.appendChild(r)}}}},_isValidTile:function(e){var g=this._map.options.crs;if(!g.infinite){var f=this._globalTileRange;if(!g.wrapLng&&(e.x<f.min.x||e.x>f.max.x)||!g.wrapLat&&(e.y<f.min.y||e.y>f.max.y)){return !1}}if(!this.options.bounds){return !0}var h=this._tileCoordsToBounds(e);return a.latLngBounds(this.options.bounds).overlaps(h)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToBounds:function(f){var e=this._map,g=this.getTileSize(),h=f.scaleBy(g),k=h.add(g),j=e.wrapLatLng(e.unproject(h,f.z)),i=e.wrapLatLng(e.unproject(k,f.z));return new a.LatLngBounds(j,i)},_tileCoordsToKey:function(a){return a.x+':'+a.y+':'+a.z},_keyToTileCoords:function(g){var e=g.split(':'),f=new a.Point(+e[0],+e[1]);return f.z=+e[2],f},_removeTile:function(f){var e=this._tiles[f];e&&(a.DomUtil.remove(e.el),delete this._tiles[f],this.fire('tileunload',{tile:e.el,coords:this._keyToTileCoords(f)}))},_initTile:function(e){a.DomUtil.addClass(e,'leaflet-tile');var f=this.getTileSize();e.style.width=f.x+'px',e.style.height=f.y+'px',e.onselectstart=a.Util.falseFn,e.onmousemove=a.Util.falseFn,a.Browser.ielt9&&this.options.opacity<1&&a.DomUtil.setOpacity(e,this.options.opacity),a.Browser.android&&!a.Browser.android23&&(e.style.WebkitBackfaceVisibility='hidden')},_addTile:function(e,g){var h=this._getTilePos(e),i=this._tileCoordsToKey(e),f=this.createTile(this._wrapCoords(e),a.bind(this._tileReady,this,e));this._initTile(f),this.createTile.length<2&&a.Util.requestAnimFrame(a.bind(this._tileReady,this,e,null,f)),a.DomUtil.setPosition(f,h),this._tiles[i]={el:f,coords:e,current:!0},g.appendChild(f),this.fire('tileloadstart',{tile:f,coords:e})},_tileReady:function(f,g,e){if(this._map){g&&this.fire('tileerror',{error:g,tile:e,coords:f});var h=this._tileCoordsToKey(f);e=this._tiles[h],e&&(e.loaded=+new Date(),this._map._fadeAnimated?(a.DomUtil.setOpacity(e.el,0),a.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=a.Util.requestAnimFrame(this._updateOpacity,this)):(e.active=!0,this._pruneTiles()),a.DomUtil.addClass(e.el,'leaflet-tile-loaded'),this.fire('tileload',{tile:e.el,coords:f}),this._noTilesToLoad()&&(this._loading=!1,this.fire('load'),a.Browser.ielt9||!this._map._fadeAnimated?a.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(a.bind(this._pruneTiles,this),250)))}},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var f=new a.Point(this._wrapX?a.Util.wrapNum(e.x,this._wrapX):e.x,this._wrapY?a.Util.wrapNum(e.y,this._wrapY):e.y);return f.z=e.z,f},_pxBoundsToTileRange:function(f){var e=this.getTileSize();return new a.Bounds(f.min.unscaleBy(e).floor(),f.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles){if(!this._tiles[a].loaded){return !1}}return !0}}),a.gridLayer=function(e){return new a.GridLayer(e)},a.TileLayer=a.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:'abc',errorTileUrl:'',zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(f,e){this._url=f,e=a.setOptions(this,e),e.detectRetina&&a.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),'string'==typeof e.subdomains&&(e.subdomains=e.subdomains.split('')),a.Browser.android||this.on('tileunload',this._onTileRemove)},setUrl:function(e,a){return this._url=e,a||this.redraw(),this},createTile:function(g,f){var e=b.createElement('img');return a.DomEvent.on(e,'load',a.bind(this._tileOnLoad,this,f,e)),a.DomEvent.on(e,'error',a.bind(this._tileOnError,this,f,e)),this.options.crossOrigin&&(e.crossOrigin=''),e.alt='',e.src=this.getTileUrl(g),e},getTileUrl:function(e){var f={r:a.Browser.retina?'@2x':'',s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-e.y;this.options.tms&&(f.y=g),f['-y']=g}return a.Util.template(this._url,a.extend(f,this.options))},_tileOnLoad:function(f,e){a.Browser.ielt9?setTimeout(a.bind(f,this,null,e),0):f(null,e)},_tileOnError:function(g,a,f){var e=this.options.errorTileUrl;e&&(a.src=e),g(f,a)},getTileSize:function(){var h=this._map,f=a.GridLayer.prototype.getTileSize.call(this),g=this._tileZoom+this.options.zoomOffset,e=this.options.maxNativeZoom;return null!==e&&g>e?f.divideBy(h.getZoomScale(e,g)).round():f},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var e=this.options,a=this._tileZoom;return e.zoomReverse&&(a=e.maxZoom-a),a+=e.zoomOffset,null!==e.maxNativeZoom?Math.min(a,e.maxNativeZoom):a},_getSubdomain:function(a){var e=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var f,e;for(f in this._tiles){this._tiles[f].coords.z!==this._tileZoom&&(e=this._tiles[f].el,e.onload=a.Util.falseFn,e.onerror=a.Util.falseFn,e.complete||(e.src=a.Util.emptyImageUrl,a.DomUtil.remove(e)))}}}),a.tileLayer=function(f,e){return new a.TileLayer(f,e)},a.TileLayer.WMS=a.TileLayer.extend({defaultWmsParams:{service:'WMS',request:'GetMap',layers:'',styles:'',format:'image/jpeg',transparent:!1,version:'1.1.1'},options:{crs:null,uppercase:!1},initialize:function(h,e){this._url=h;var f=a.extend({},this.defaultWmsParams);for(var g in e){g in this.options||(f[g]=e[g])}e=a.setOptions(this,e),f.width=f.height=e.tileSize*(e.detectRetina&&a.Browser.retina?2:1),this.wmsParams=f},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?'crs':'srs';this.wmsParams[f]=this._crs.code,a.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(i){var g=this._tileCoordsToBounds(i),e=this._crs.project(g.getNorthWest()),f=this._crs.project(g.getSouthEast()),j=(this._wmsVersion>=1.3&&this._crs===a.CRS.EPSG4326?[f.y,e.x,e.y,f.x]:[e.x,f.y,f.x,e.y]).join(','),h=a.TileLayer.prototype.getTileUrl.call(this,i);return h+a.Util.getParamString(this.wmsParams,h,this.options.uppercase)+(this.options.uppercase?'&BBOX=':'&bbox=')+j},setParams:function(f,e){return a.extend(this.wmsParams,f),e||this.redraw(),this}}),a.tileLayer.wms=function(f,e){return new a.TileLayer.WMS(f,e)},a.ImageOverlay=a.Layer.extend({options:{opacity:1,alt:'',interactive:!1,attribution:null,crossOrigin:!1},initialize:function(g,e,f){this._url=g,this._bounds=a.latLngBounds(e),a.setOptions(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(a.DomUtil.addClass(this._image,'leaflet-interactive'),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){a.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&a.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&a.DomUtil.toBack(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=a,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._image=a.DomUtil.create('img','leaflet-image-layer '+(this._zoomAnimated?'leaflet-zoom-animated':''));e.onselectstart=a.Util.falseFn,e.onmousemove=a.Util.falseFn,e.onload=a.bind(this.fire,this,'load'),this.options.crossOrigin&&(e.crossOrigin=''),e.src=this._url,e.alt=this.options.alt},_animateZoom:function(e){var f=this._map.getZoomScale(e.zoom),g=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),e.zoom,e.center);a.DomUtil.setTransform(this._image,g,f)},_reset:function(){var e=this._image,f=new a.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=f.getSize();a.DomUtil.setPosition(e,f.min),e.style.width=g.x+'px',e.style.height=g.y+'px'},_updateOpacity:function(){a.DomUtil.setOpacity(this._image,this.options.opacity)}}),a.imageOverlay=function(g,e,f){return new a.ImageOverlay(g,e,f)},a.Icon=a.Class.extend({initialize:function(e){a.setOptions(this,e)},createIcon:function(a){return this._createIcon('icon',a)},createShadow:function(a){return this._createIcon('shadow',a)},_createIcon:function(e,a){var f=this._getIconUrl(e);if(!f){if('icon'===e){throw new Error('iconUrl not set in Icon options (see the docs).')}return null}var g=this._createImg(f,a&&'IMG'===a.tagName?a:null);return this._setIconStyles(g,e),g},_setIconStyles:function(g,i){var h=this.options,e=h[i+'Size'];'number'==typeof e&&(e=[e,e]);var f=a.point(e),j=a.point('shadow'===i&&h.shadowAnchor||h.iconAnchor||f&&f.divideBy(2,!0));g.className='leaflet-marker-'+i+' '+(h.className||''),j&&(g.style.marginLeft=-j.x+'px',g.style.marginTop=-j.y+'px'),f&&(g.style.width=f.x+'px',g.style.height=f.y+'px')},_createImg:function(e,a){return a=a||b.createElement('img'),a.src=e,a},_getIconUrl:function(e){return a.Browser.retina&&this.options[e+'RetinaUrl']||this.options[e+'Url']}}),a.icon=function(e){return new a.Icon(e)},a.Icon.Default=a.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(e){var f=e+'Url';if(this.options[f]){return this.options[f]}var g=a.Icon.Default.imagePath;if(!g){throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.")}return g+'/marker-'+e+(a.Browser.retina&&'icon'===e?'-2x':'')+'.png'}}),a.Icon.Default.imagePath=function(){var a,g,e,f,i=b.getElementsByTagName('script'),h=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(a=0,g=i.length;a<g;a++){if(e=i[a].src||'',e.match(h)){return f=e.split(h)[0],(f?f+'/':'')+'images'}}}(),a.Marker=a.Layer.extend({options:{icon:new a.Icon.Default(),interactive:!0,draggable:!1,keyboard:!0,title:'',alt:'',zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:'markerPane',nonBubblingEvents:['click','dblclick','mouseover','mouseout','contextmenu']},initialize:function(f,e){a.setOptions(this,e),this._latlng=a.latLng(f)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._initIcon(),this.update()},onRemove:function(){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._removeIcon(),this._removeShadow()},getEvents:function(){var a={zoom:this.update,viewreset:this.update};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},getLatLng:function(){return this._latlng},setLatLng:function(f){var e=this._latlng;return this._latlng=a.latLng(f),this.update(),this.fire('move',{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var e=this.options,h='leaflet-zoom-'+(this._zoomAnimated?'animated':'hide'),f=e.icon.createIcon(this._icon),i=!1;f!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(f.title=e.title),e.alt&&(f.alt=e.alt)),a.DomUtil.addClass(f,h),e.keyboard&&(f.tabIndex='0'),this._icon=f,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var g=e.icon.createShadow(this._shadow),j=!1;g!==this._shadow&&(this._removeShadow(),j=!0),g&&a.DomUtil.addClass(g,h),this._shadow=g,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&j&&this.getPane('shadowPane').appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),a.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&a.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(e){a.DomUtil.setPosition(this._icon,e),this._shadow&&a.DomUtil.setPosition(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var e=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(a.DomUtil.addClass(this._icon,'leaflet-interactive'),this.addInteractiveTarget(this._icon),a.Handler.MarkerDrag)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new a.Handler.MarkerDrag(this),e&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;a.DomUtil.setOpacity(this._icon,e),this._shadow&&a.DomUtil.setOpacity(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),a.marker=function(f,e){return new a.Marker(f,e)},a.DivIcon=a.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:'leaflet-div-icon'},createIcon:function(g){var e=g&&'DIV'===g.tagName?g:b.createElement('div'),f=this.options;if(e.innerHTML=f.html!==!1?f.html:'',f.bgPos){var h=a.point(f.bgPos);e.style.backgroundPosition=-h.x+'px '+-h.y+'px'}return this._setIconStyles(e,'icon'),e},createShadow:function(){return null}}),a.divIcon=function(e){return new a.DivIcon(e)},a.Map.mergeOptions({closePopupOnClick:!0}),a.Popup=a.Layer.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,offset:[0,7],autoClose:!0,zoomAnimation:!0,className:'',pane:'popupPane'},initialize:function(f,e){a.setOptions(this,f),this._source=e},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),e._fadeAnimated&&a.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&a.DomUtil.setOpacity(this._container,1),e.fire('popupopen',{popup:this}),this._source&&(this._source.fire('popupopen',{popup:this},!0),this._source.on('preclick',a.DomEvent.stopPropagation))},openOn:function(a){return a.openPopup(this),this},onRemove:function(e){e._fadeAnimated?(a.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(a.bind(a.DomUtil.remove,a.DomUtil,this._container),200)):a.DomUtil.remove(this._container),e.fire('popupclose',{popup:this}),this._source&&(this._source.fire('popupclose',{popup:this},!0),this._source.off('preclick',a.DomEvent.stopPropagation))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=a.latLng(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility='hidden',this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility='',this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),('closeOnClick' in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},isOpen:function(){return !!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&a.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&a.DomUtil.toBack(this._container),this},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e='leaflet-popup',f=this._container=a.DomUtil.create('div',e+' '+(this.options.className||'')+' leaflet-zoom-'+(this._zoomAnimated?'animated':'hide'));if(this.options.closeButton){var g=this._closeButton=a.DomUtil.create('a',e+'-close-button',f);g.href='#close',g.innerHTML='&#215;',a.DomEvent.on(g,'click',this._onCloseButtonClick,this)}var h=this._wrapper=a.DomUtil.create('div',e+'-content-wrapper',f);this._contentNode=a.DomUtil.create('div',e+'-content',h),a.DomEvent.disableClickPropagation(h).disableScrollPropagation(this._contentNode).on(h,'contextmenu',a.DomEvent.stopPropagation),this._tipContainer=a.DomUtil.create('div',e+'-tip-container',f),this._tip=a.DomUtil.create('div',e+'-tip',this._tipContainer)},_updateContent:function(){if(this._content){var a=this._contentNode,e='function'==typeof this._content?this._content(this._source||this):this._content;if('string'==typeof e){a.innerHTML=e}else {for(;a.hasChildNodes();){a.removeChild(a.firstChild)}a.appendChild(e)}this.fire('contentupdate')}},_updateLayout:function(){var g=this._contentNode,e=g.style;e.width='',e.whiteSpace='nowrap';var f=g.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),e.width=f+1+'px',e.whiteSpace='',e.height='';var j=g.offsetHeight,h=this.options.maxHeight,i='leaflet-popup-scrolled';h&&j>h?(e.height=h+'px',a.DomUtil.addClass(g,i)):a.DomUtil.removeClass(g,i),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),e=a.point(this.options.offset);this._zoomAnimated?a.DomUtil.setPosition(this._container,f):e=e.add(f);var g=this._containerBottom=-e.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=g+'px',this._container.style.left=h+'px'}},_animateZoom:function(e){var f=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);a.DomUtil.setPosition(this._container,f)},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var l=this._map,k=this._container.offsetHeight,m=this._containerWidth,n=new a.Point(this._containerLeft,-k-this._containerBottom);this._zoomAnimated&&n._add(a.DomUtil.getPosition(this._container));var e=l.layerPointToContainerPoint(n),o=a.point(this.options.autoPanPadding),h=a.point(this.options.autoPanPaddingTopLeft||o),i=a.point(this.options.autoPanPaddingBottomRight||o),j=l.getSize(),g=0,f=0;e.x+m+i.x>j.x&&(g=e.x+m-j.x+i.x),e.x-g-h.x<0&&(g=e.x-h.x),e.y+k+i.y>j.y&&(f=e.y+k-j.y+i.y),e.y-f-h.y<0&&(f=e.y-h.y),(g||f)&&l.fire('autopanstart').panBy([g,f])}},_onCloseButtonClick:function(e){this._close(),a.DomEvent.stop(e)}}),a.popup=function(f,e){return new a.Popup(f,e)},a.Map.include({openPopup:function(e,f,g){return e instanceof a.Popup||(e=(new a.Popup(g)).setContent(e)),f&&e.setLatLng(f),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&this.removeLayer(a),this}}),a.Layer.include({bindPopup:function(e,f){return e instanceof a.Popup?(a.setOptions(e,f),this._popup=e,e._source=this):(this._popup&&!f||(this._popup=new a.Popup(f,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this._originalPopupOffset=this._popup.options.offset,this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,f){if(e instanceof a.Layer||(f=e,e=this),e instanceof a.FeatureGroup){for(var g in this._layers){e=this._layers[g];break}}return f||(f=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup.options.offset=this._popupAnchor(e),this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,f)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(a){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(a)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(e){var f=e.layer||e.target;if(this._popup&&this._map){return a.DomEvent.stop(e),f instanceof a.Path?void this.openPopup(e.layer||e.target,e.latlng):void (this._map.hasLayer(this._popup)&&this._popup._source===f?this.closePopup():this.openPopup(f,e.latlng))}},_popupAnchor:function(e){var f=e._getPopupAnchor?e._getPopupAnchor():[0,0],g=this._originalPopupOffset||a.Popup.prototype.options.offset;return a.point(f).add(g)},_movePopup:function(a){this._popup.setLatLng(a.latlng)}}),a.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),a.LayerGroup=a.Layer.extend({initialize:function(e){this._layers={};var a,f;if(e){for(a=0,f=e.length;a<f;a++){this.addLayer(e[a])}}},addLayer:function(a){var e=this.getLayerId(a);return this._layers[e]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(e){var a=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return !!a&&(a in this._layers||this.getLayerId(a) in this._layers)},clearLayers:function(){for(var a in this._layers){this.removeLayer(this._layers[a])}return this},invoke:function(f){var e,a,g=Array.prototype.slice.call(arguments,1);for(e in this._layers){a=this._layers[e],a[f]&&a[f].apply(a,g)}return this},onAdd:function(e){for(var a in this._layers){e.addLayer(this._layers[a])}},onRemove:function(e){for(var a in this._layers){e.removeLayer(this._layers[a])}},eachLayer:function(f,a){for(var e in this._layers){f.call(a,this._layers[e])}return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var e in this._layers){a.push(this._layers[e])}return a},setZIndex:function(a){return this.invoke('setZIndex',a)},getLayerId:function(e){return a.stamp(e)}}),a.layerGroup=function(e){return new a.LayerGroup(e)},a.FeatureGroup=a.LayerGroup.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),a.LayerGroup.prototype.addLayer.call(this,e),this.fire('layeradd',{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),a.LayerGroup.prototype.removeLayer.call(this,e),this.fire('layerremove',{layer:e})):this},setStyle:function(a){return this.invoke('setStyle',a)},bringToFront:function(){return this.invoke('bringToFront')},bringToBack:function(){return this.invoke('bringToBack')},getBounds:function(){var f=new a.LatLngBounds();for(var g in this._layers){var e=this._layers[g];f.extend(e.getBounds?e.getBounds():e.getLatLng())}return f}}),a.featureGroup=function(e){return new a.FeatureGroup(e)},a.Renderer=a.Layer.extend({options:{padding:0.1},initialize:function(e){a.setOptions(this,e),a.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&a.DomUtil.addClass(this._container,'leaflet-zoom-animated')),this.getPane().appendChild(this._container),this._update()},onRemove:function(){a.DomUtil.remove(this._container)},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(m,e){var f=this._map.getZoomScale(e,this._zoom),k=a.DomUtil.getPosition(this._container),h=this._map.getSize().multiplyBy(0.5+this.options.padding),l=this._map.project(this._center,e),i=this._map.project(m,e),j=i.subtract(l),g=h.multiplyBy(-f).add(k).add(h).subtract(j);a.Browser.any3d?a.DomUtil.setTransform(this._container,g,f):a.DomUtil.setPosition(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var g=this.options.padding,e=this._map.getSize(),f=this._map.containerPointToLayerPoint(e.multiplyBy(-g)).round();this._bounds=new a.Bounds(f,f.add(e.multiplyBy(1+2*g)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),a.Map.include({getRenderer:function(f){var e=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&a.canvas()||a.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(e){if('overlayPane'===e||e===c){return !1}var f=this._paneRenderers[e];return f===c&&(f=a.SVG&&a.svg({pane:e})||a.Canvas&&a.canvas({pane:e}),this._paneRenderers[e]=f),f}}),a.Path=a.Layer.extend({options:{stroke:!0,color:'#3388ff',weight:3,opacity:1,lineCap:'round',lineJoin:'round',dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:0.2,fillRule:'evenodd',interactive:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},getEvents:function(){return {zoomend:this._project,moveend:this._update,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return a.setOptions(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return (this.options.stroke?this.options.weight/2:0)+(a.Browser.touch?10:0)}}),a.LineUtil={simplify:function(a,e){if(!e||!a.length){return a.slice()}var f=e*e;return a=this._reducePoints(a,f),a=this._simplifyDP(a,f)},pointToSegmentDistance:function(f,a,e){return Math.sqrt(this._sqClosestPointOnSegment(f,a,e,!0))},closestPointOnSegment:function(f,a,e){return this._sqClosestPointOnSegment(f,a,e)},_simplifyDP:function(g,i){var e=g.length,j=typeof Uint8Array!=c+''?Uint8Array:Array,f=new j(e);f[0]=f[e-1]=1,this._simplifyDPStep(g,f,i,0,e-1);var a,h=[];for(a=0;a<e;a++){f[a]&&h.push(g[a])}return h},_simplifyDPStep:function(e,h,j,k,l){var f,a,g,i=0;for(a=k+1;a<=l-1;a++){g=this._sqClosestPointOnSegment(e[a],e[k],e[l],!0),g>i&&(f=a,i=g)}i>j&&(h[f]=1,this._simplifyDPStep(e,h,j,k,f),this._simplifyDPStep(e,h,j,f,l))},_reducePoints:function(a,i){for(var f=[a[0]],e=1,g=0,h=a.length;e<h;e++){this._sqDist(a[e],a[g])>i&&(f.push(a[e]),g=e)}return g<h-1&&f.push(a[h-1]),f},clipSegment:function(i,f,g,l,m){var k,h,j,a=l?this._lastCode:this._getBitCode(i,g),e=this._getBitCode(f,g);for(this._lastCode=e;;){if(!(a|e)){return [i,f]}if(a&e){return !1}k=a||e,h=this._getEdgeIntersection(i,f,k,g,m),j=this._getBitCode(h,g),k===a?(i=h,a=j):(f=h,e=j)}},_getEdgeIntersection:function(e,m,j,n,o){var g,f,i=m.x-e.x,k=m.y-e.y,l=n.min,h=n.max;return 8&j?(g=e.x+i*(h.y-e.y)/k,f=h.y):4&j?(g=e.x+i*(l.y-e.y)/k,f=l.y):2&j?(g=h.x,f=e.y+k*(h.x-e.x)/i):1&j&&(g=l.x,f=e.y+k*(l.x-e.x)/i),new a.Point(g,f,o)},_getBitCode:function(f,e){var a=0;return f.x<e.min.x?a|=1:f.x>e.max.x&&(a|=2),f.y<e.min.y?a|=4:f.y>e.max.y&&(a|=8),a},_sqDist:function(g,a){var e=a.x-g.x,f=a.y-g.y;return e*e+f*f},_sqClosestPointOnSegment:function(k,l,j,n){var i,h=l.x,g=l.y,e=j.x-h,f=j.y-g,m=e*e+f*f;return m>0&&(i=((k.x-h)*e+(k.y-g)*f)/m,i>1?(h=j.x,g=j.y):i>0&&(h+=e*i,g+=f*i)),e=k.x-h,f=k.y-g,n?e*e+f*f:new a.Point(h,g)}},a.Polyline=a.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,e){a.setOptions(this,e),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return !this._latlngs.length},closestLayerPoint:function(n){for(var h,i,k=1/0,e=null,m=a.LineUtil._sqClosestPointOnSegment,g=0,p=this._parts.length;g<p;g++){for(var j=this._parts[g],f=1,o=j.length;f<o;f++){h=j[f-1],i=j[f];var l=m(n,h,i,!0);l<k&&(k=l,e=m(n,h,i))}}return e&&(e.distance=Math.sqrt(k)),e},getCenter:function(){var a,g,k,h,i,f,l,e=this._rings[0],j=e.length;if(!j){return null}for(a=0,g=0;a<j-1;a++){g+=e[a].distanceTo(e[a+1])/2}if(0===g){return this._map.layerPointToLatLng(e[0])}for(a=0,h=0;a<j-1;a++){if(i=e[a],f=e[a+1],k=i.distanceTo(f),h+=k,h>g){return l=(h-g)/k,this._map.layerPointToLatLng([f.x-l*(f.x-i.x),f.y-l*(f.y-i.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(e,f){return f=f||this._defaultShape(),e=a.latLng(e),f.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new a.LatLngBounds(),this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return a.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(g){for(var f=[],h=a.Polyline._flat(g),e=0,i=g.length;e<i;e++){h?(f[e]=a.latLng(g[e]),this._bounds.extend(f[e])):f[e]=this._convertLatLngs(g[e])}return f},_project:function(){var e=new a.Bounds();this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var f=this._clickTolerance(),g=new a.Point(f,f);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(g),e.max._add(g),this._pxBounds=e)},_projectLatlngs:function(g,i,j){var e,f,k=g[0] instanceof a.LatLng,h=g.length;if(k){for(f=[],e=0;e<h;e++){f[e]=this._map.latLngToLayerPoint(g[e]),j.extend(f[e])}i.push(f)}else {for(e=0;e<h;e++){this._projectLatlngs(g[e],i,j)}}},_clipPoints:function(){var m=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(m)){if(this.options.noClip){return void (this._parts=this._rings)}var i,e,f,l,k,g,h,j=this._parts;for(i=0,f=0,l=this._rings.length;i<l;i++){for(h=this._rings[i],e=0,k=h.length;e<k-1;e++){g=a.LineUtil.clipSegment(h[e],h[e+1],m,e,!0),g&&(j[f]=j[f]||[],j[f].push(g[0]),g[1]===h[e+1]&&e!==k-2||(j[f].push(g[1]),f++))}}}},_simplifyPoints:function(){for(var f=this._parts,g=this.options.smoothFactor,e=0,h=f.length;e<h;e++){f[e]=a.LineUtil.simplify(f[e],g)}},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),a.polyline=function(f,e){return new a.Polyline(f,e)},a.Polyline._flat=function(e){return !a.Util.isArray(e[0])||'object'!=typeof e[0][0]&&'undefined'!=typeof e[0][0]},a.PolyUtil={},a.PolyUtil.clipPolygon=function(g,i,q){var m,e,p,o,j,k,n,h,f,r=[1,4,2,8],l=a.LineUtil;for(e=0,n=g.length;e<n;e++){g[e]._code=l._getBitCode(g[e],i)}for(o=0;o<4;o++){for(h=r[o],m=[],e=0,n=g.length,p=n-1;e<n;p=e++){j=g[e],k=g[p],j._code&h?k._code&h||(f=l._getEdgeIntersection(k,j,h,i,q),f._code=l._getBitCode(f,i),m.push(f)):(k._code&h&&(f=l._getEdgeIntersection(k,j,h,i,q),f._code=l._getBitCode(f,i),m.push(f)),m.push(j))}g=m}return g},a.Polygon=a.Polyline.extend({options:{fill:!0},isEmpty:function(){return !this._latlngs.length||!this._latlngs[0].length},getCenter:function(){var i,k,a,e,h,f,l,j,n,g=this._rings[0],m=g.length;if(!m){return null}for(f=l=j=0,i=0,k=m-1;i<m;k=i++){a=g[i],e=g[k],h=a.y*e.x-e.y*a.x,l+=(a.x+e.x)*h,j+=(a.y+e.y)*h,f+=3*h}return n=0===f?g[0]:[l/f,j/f],this._map.layerPointToLatLng(n)},_convertLatLngs:function(g){var e=a.Polyline.prototype._convertLatLngs.call(this,g),f=e.length;return f>=2&&e[0] instanceof a.LatLng&&e[0].equals(e[f-1])&&e.pop(),e},_setLatLngs:function(e){a.Polyline.prototype._setLatLngs.call(this,e),a.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return a.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,h=this.options.weight,i=new a.Point(h,h);if(e=new a.Bounds(e.min.subtract(i),e.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip){return void (this._parts=this._rings)}for(var f,g=0,j=this._rings.length;g<j;g++){f=a.PolyUtil.clipPolygon(this._rings[g],e,!0),f.length&&this._parts.push(f)}}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),a.polygon=function(f,e){return new a.Polygon(f,e)},a.Rectangle=a.Polygon.extend({initialize:function(f,e){a.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(f),e)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(e){return e=a.latLngBounds(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}}),a.rectangle=function(f,e){return new a.Rectangle(f,e)},a.CircleMarker=a.Path.extend({options:{fill:!0,radius:10},initialize:function(f,e){a.setOptions(this,e),this._latlng=a.latLng(f),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=a.latLng(e),this.redraw(),this.fire('move',{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var f=e&&e.radius||this._radius;return a.Path.prototype.setStyle.call(this,e),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var g=this._radius,h=this._radiusY||g,e=this._clickTolerance(),f=[g+e,h+e];this._pxBounds=new a.Bounds(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),a.circleMarker=function(f,e){return new a.CircleMarker(f,e)},a.Circle=a.CircleMarker.extend({initialize:function(g,e,f){if('number'==typeof e&&(e=a.extend({},f,{radius:e})),a.setOptions(this,e),this._latlng=a.latLng(g),isNaN(this.options.radius)){throw new Error('Circle radius cannot be NaN')}this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new a.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:a.Path.prototype.setStyle,_project:function(){var l=this._latlng.lng,h=this._latlng.lat,e=this._map,k=e.options.crs;if(k.distance===a.CRS.Earth.distance){var f=Math.PI/180,j=this._mRadius/a.CRS.Earth.R/f,n=e.project([h+j,l]),p=e.project([h-j,l]),i=n.add(p).divideBy(2),m=e.unproject(i).lat,g=Math.acos((Math.cos(j*f)-Math.sin(h*f)*Math.sin(m*f))/(Math.cos(h*f)*Math.cos(m*f)))/f;(isNaN(g)||0===g)&&(g=j/Math.cos(Math.PI/180*h)),this._point=i.subtract(e.getPixelOrigin()),this._radius=isNaN(g)?0:Math.max(Math.round(i.x-e.project([m,l-g]).x),1),this._radiusY=Math.max(Math.round(i.y-n.y),1)}else {var o=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=e.latLngToLayerPoint(this._latlng),this._radius=this._point.x-e.latLngToLayerPoint(o).x}this._updateBounds()}}),a.circle=function(g,e,f){return new a.Circle(g,e,f)},a.SVG=a.Renderer.extend({getEvents:function(){var e=a.Renderer.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=a.SVG.create('svg'),this._container.setAttribute('pointer-events','none'),this._rootGroup=a.SVG.create('g'),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){a.Renderer.prototype._update.call(this);var g=this._bounds,e=g.getSize(),f=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,f.setAttribute('width',e.x),f.setAttribute('height',e.y)),a.DomUtil.setPosition(f,g.min),f.setAttribute('viewBox',[g.min.x,g.min.y,e.x,e.y].join(' '))}},_initPath:function(e){var f=e._path=a.SVG.create('path');e.options.className&&a.DomUtil.addClass(f,e.options.className),e.options.interactive&&a.DomUtil.addClass(f,'leaflet-interactive'),this._updateStyle(e)},_addPath:function(a){this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(e){a.DomUtil.remove(e._path),e.removeInteractiveTarget(e._path)},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(f){var a=f._path,e=f.options;a&&(e.stroke?(a.setAttribute('stroke',e.color),a.setAttribute('stroke-opacity',e.opacity),a.setAttribute('stroke-width',e.weight),a.setAttribute('stroke-linecap',e.lineCap),a.setAttribute('stroke-linejoin',e.lineJoin),e.dashArray?a.setAttribute('stroke-dasharray',e.dashArray):a.removeAttribute('stroke-dasharray'),e.dashOffset?a.setAttribute('stroke-dashoffset',e.dashOffset):a.removeAttribute('stroke-dashoffset')):a.setAttribute('stroke','none'),e.fill?(a.setAttribute('fill',e.fillColor||e.color),a.setAttribute('fill-opacity',e.fillOpacity),a.setAttribute('fill-rule',e.fillRule||'evenodd')):a.setAttribute('fill','none'))},_updatePoly:function(e,f){this._setPath(e,a.SVG.pointsToPath(e._parts,f))},_updateCircle:function(e){var f=e._point,a=e._radius,h=e._radiusY||a,g='a'+a+','+h+' 0 1,0 ',i=e._empty()?'M0 0':'M'+(f.x-a)+','+f.y+g+2*a+',0 '+g+2*-a+',0 ';this._setPath(e,i)},_setPath:function(e,a){e._path.setAttribute('d',a)},_bringToFront:function(e){a.DomUtil.toFront(e._path)},_bringToBack:function(e){a.DomUtil.toBack(e._path)}}),a.extend(a.SVG,{create:function(a){return b.createElementNS('http://www.w3.org/2000/svg',a)},pointsToPath:function(l,m){var f,e,k,j,g,h,i='';for(f=0,k=l.length;f<k;f++){for(g=l[f],e=0,j=g.length;e<j;e++){h=g[e],i+=(e?'L':'M')+h.x+' '+h.y}i+=m?a.Browser.svg?'z':'x':''}return i||'M0 0'}}),a.Browser.svg=!(!b.createElementNS||!a.SVG.create('svg').createSVGRect),a.svg=function(e){return a.Browser.svg||a.Browser.vml?new a.SVG(e):null},a.Browser.vml=!a.Browser.svg&&function(){try{var e=b.createElement('div');e.innerHTML='<v:shape adj="1"/>';var a=e.firstChild;return a.style.behavior='url(#default#VML)',a&&'object'==typeof a.adj}catch(i){return !1}}(),a.SVG.include(a.Browser.vml?{_initContainer:function(){this._container=a.DomUtil.create('div','leaflet-vml-container')},_update:function(){this._map._animatingZoom||a.Renderer.prototype._update.call(this)},_initPath:function(e){var f=e._container=a.SVG.create('shape');a.DomUtil.addClass(f,'leaflet-vml-shape '+(this.options.className||'')),f.coordsize='1 1',e._path=a.SVG.create('path'),f.appendChild(e._path),this._updateStyle(e)},_addPath:function(a){var e=a._container;this._container.appendChild(e),a.options.interactive&&a.addInteractiveTarget(e)},_removePath:function(f){var e=f._container;a.DomUtil.remove(e),f.removeInteractiveTarget(e)},_updateStyle:function(g){var f=g._stroke,h=g._fill,e=g.options,i=g._container;i.stroked=!!e.stroke,i.filled=!!e.fill,e.stroke?(f||(f=g._stroke=a.SVG.create('stroke')),i.appendChild(f),f.weight=e.weight+'px',f.color=e.color,f.opacity=e.opacity,e.dashArray?f.dashStyle=a.Util.isArray(e.dashArray)?e.dashArray.join(' '):e.dashArray.replace(/( *, *)/g,' '):f.dashStyle='',f.endcap=e.lineCap.replace('butt','flat'),f.joinstyle=e.lineJoin):f&&(i.removeChild(f),g._stroke=null),e.fill?(h||(h=g._fill=a.SVG.create('fill')),i.appendChild(h),h.color=e.fillColor||e.color,h.opacity=e.fillOpacity):h&&(i.removeChild(h),g._fill=null)},_updateCircle:function(a){var e=a._point.round(),f=Math.round(a._radius),g=Math.round(a._radiusY||f);this._setPath(a,a._empty()?'M0 0':'AL '+e.x+','+e.y+' '+f+','+g+' 0,23592600')},_setPath:function(e,a){e._path.v=a},_bringToFront:function(e){a.DomUtil.toFront(e._container)},_bringToBack:function(e){a.DomUtil.toBack(e._container)}}:{}),a.Browser.vml&&(a.SVG.create=function(){try{return b.namespaces.add('lvml','urn:schemas-microsoft-com:vml'),function(a){return b.createElement('<lvml:'+a+' class="lvml">')}}catch(i){return function(a){return b.createElement('<'+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),a.Canvas=a.Renderer.extend({onAdd:function(){a.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var e=this._container=b.createElement('canvas');a.DomEvent.on(e,'mousemove',a.Util.throttle(this._onMouseMove,32,this),this).on(e,'click dblclick mousedown mouseup contextmenu',this._onClick,this).on(e,'mouseout',this._handleMouseOut,this),this._ctx=e.getContext('2d')},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},a.Renderer.prototype._update.call(this);var g=this._bounds,e=this._container,f=g.getSize(),h=a.Browser.retina?2:1;a.DomUtil.setPosition(e,g.min),e.width=h*f.x,e.height=h*f.y,e.style.width=f.x+'px',e.style.height=f.y+'px',a.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-g.min.x,-g.min.y)}},_initPath:function(e){this._updateDashArray(e),this._layers[a.stamp(e)]=e},_addPath:a.Util.falseFn,_removePath:function(a){a._removed=!0,this._requestRedraw(a)},_updatePath:function(a){this._redrawBounds=a._pxBounds,this._draw(!0),a._project(),a._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(e){if(e.options.dashArray){var a,f=e.options.dashArray.split(','),g=[];for(a=0;a<f.length;a++){g.push(Number(f[a]))}e.options._dashArray=g}},_requestRedraw:function(f){if(this._map){var e=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new a.Bounds(),this._redrawBounds.extend(f._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(f._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||a.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(g){this._clear=g;var e,a=this._redrawBounds;this._ctx.save(),a&&(this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y),this._ctx.clip());for(var f in this._layers){e=this._layers[f],(!a||e._pxBounds&&e._pxBounds.intersects(a))&&e._updatePath(),g&&e._removed&&(delete e._removed,delete this._layers[f])}this._ctx.restore()},_updatePoly:function(e,l){var f,g,k,i,h=e._parts,j=h.length,a=this._ctx;if(j){for(this._drawnLayers[e._leaflet_id]=e,a.beginPath(),a.setLineDash&&a.setLineDash(e.options&&e.options._dashArray||[]),f=0;f<j;f++){for(g=0,k=h[f].length;g<k;g++){i=h[f][g],a[g?'lineTo':'moveTo'](i.x,i.y)}l&&a.closePath()}this._fillStroke(a,e)}},_updateCircle:function(a){if(!a._empty()){var h=a._point,e=this._ctx,g=a._radius,f=(a._radiusY||g)/g;this._drawnLayers[a._leaflet_id]=a,1!==f&&(e.save(),e.scale(1,f)),e.beginPath(),e.arc(h.x,h.y/f,g,0,2*Math.PI,!1),1!==f&&e.restore(),this._fillStroke(e,a)}},_fillStroke:function(e,g){var f=this._clear,a=g.options;e.globalCompositeOperation=f?'destination-out':'source-over',a.fill&&(e.globalAlpha=f?1:a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||'evenodd')),a.stroke&&0!==a.weight&&(e.globalAlpha=f?1:a.opacity,g._prevWeight=e.lineWidth=f?g._prevWeight+1:a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(g){var e,h=this._map.mouseEventToLayerPoint(g),f=[];for(var i in this._layers){e=this._layers[i],e.options.interactive&&e._containsPoint(h)&&!this._map._draggableMoved(e)&&(a.DomEvent._fakeStop(g),f.push(e))}f.length&&this._fireEvent(f,g)},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(a);this._handleMouseOut(a,e),this._handleMouseHover(a,e)}},_handleMouseOut:function(f,g){var e=this._hoveredLayer;!e||'mouseout'!==f.type&&e._containsPoint(g)||(a.DomUtil.removeClass(this._container,'leaflet-interactive'),this._fireEvent([e],f,'mouseout'),this._hoveredLayer=null)},_handleMouseHover:function(g,h){var f,e;for(f in this._drawnLayers){e=this._drawnLayers[f],e.options.interactive&&e._containsPoint(h)&&(a.DomUtil.addClass(this._container,'leaflet-interactive'),this._fireEvent([e],g,'mouseover'),this._hoveredLayer=e)}this._hoveredLayer&&this._fireEvent([this._hoveredLayer],g)},_fireEvent:function(f,a,e){this._map._fireDOMEvent(a,e||a.type,f)},_bringToFront:a.Util.falseFn,_bringToBack:a.Util.falseFn}),a.Browser.canvas=function(){return !!b.createElement('canvas').getContext}(),a.canvas=function(e){return a.Browser.canvas?new a.Canvas(e):null},a.Polyline.prototype._containsPoint=function(k,l){var g,e,i,j,h,f,m=this._clickTolerance();if(!this._pxBounds.contains(k)){return !1}for(g=0,j=this._parts.length;g<j;g++){for(f=this._parts[g],e=0,h=f.length,i=h-1;e<h;i=e++){if((l||0!==e)&&a.LineUtil.pointToSegmentDistance(k,f[i],f[e])<=m){return !0}}}return !1},a.Polygon.prototype._containsPoint=function(f){var g,e,h,j,i,k,n,l,m=!1;if(!this._pxBounds.contains(f)){return !1}for(j=0,n=this._parts.length;j<n;j++){for(g=this._parts[j],i=0,l=g.length,k=l-1;i<l;k=i++){e=g[i],h=g[k],e.y>f.y!=h.y>f.y&&f.x<(h.x-e.x)*(f.y-e.y)/(h.y-e.y)+e.x&&(m=!m)}}return m||a.Polyline.prototype._containsPoint.call(this,f,!0)},a.CircleMarker.prototype._containsPoint=function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()},a.GeoJSON=a.FeatureGroup.extend({initialize:function(e,f){a.setOptions(this,f),this._layers={},e&&this.addData(e)},addData:function(f){var i,k,g,j=a.Util.isArray(f)?f:f.features;if(j){for(i=0,k=j.length;i<k;i++){g=j[i],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g)}return this}var h=this.options;if(h.filter&&!h.filter(f)){return this}var e=a.GeoJSON.geometryToLayer(f,h);return e?(e.feature=a.GeoJSON.asFeature(f),e.defaultOptions=e.options,this.resetStyle(e),h.onEachFeature&&h.onEachFeature(f,e),this.addLayer(e)):this},resetStyle:function(e){return e.options=a.Util.extend({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(a){return this.eachLayer(function(e){this._setLayerStyle(e,a)},this)},_setLayerStyle:function(e,a){'function'==typeof a&&(a=a(e.feature)),e.setStyle&&e.setStyle(a)}}),a.extend(a.GeoJSON,{geometryToLayer:function(j,g){var i,m,f,n,e='Feature'===j.type?j.geometry:j,h=e?e.coordinates:null,l=[],o=g&&g.pointToLayer,k=g&&g.coordsToLatLng||this.coordsToLatLng;if(!h&&!e){return null}switch(e.type){case 'Point':return i=k(h),o?o(j,i):new a.Marker(i);case 'MultiPoint':for(f=0,n=h.length;f<n;f++){i=k(h[f]),l.push(o?o(j,i):new a.Marker(i))};return new a.FeatureGroup(l);case 'LineString':case 'MultiLineString':return m=this.coordsToLatLngs(h,'LineString'===e.type?0:1,k),new a.Polyline(m,g);case 'Polygon':case 'MultiPolygon':return m=this.coordsToLatLngs(h,'Polygon'===e.type?1:2,k),new a.Polygon(m,g);case 'GeometryCollection':for(f=0,n=e.geometries.length;f<n;f++){var p=this.geometryToLayer({geometry:e.geometries[f],type:'Feature',properties:j.properties},g);p&&l.push(p)};return new a.FeatureGroup(l);default:throw new Error('Invalid GeoJSON object.');}},coordsToLatLng:function(e){return new a.LatLng(e[1],e[0],e[2])},coordsToLatLngs:function(e,f,g){for(var h,i=[],a=0,j=e.length;a<j;a++){h=f?this.coordsToLatLngs(e[a],f-1,g):(g||this.coordsToLatLng)(e[a]),i.push(h)}return i},latLngToCoords:function(a){return a.alt!==c?[a.lng,a.lat,a.alt]:[a.lng,a.lat]},latLngsToCoords:function(h,g,i){for(var e=[],f=0,j=h.length;f<j;f++){e.push(g?a.GeoJSON.latLngsToCoords(h[f],g-1,i):a.GeoJSON.latLngToCoords(h[f]))}return !g&&i&&e.push(e[0]),e},getFeature:function(f,e){return f.feature?a.extend({},f.feature,{geometry:e}):a.GeoJSON.asFeature(e)},asFeature:function(a){return 'Feature'===a.type?a:{type:'Feature',properties:{},geometry:a}}});var g={toGeoJSON:function(){return a.GeoJSON.getFeature(this,{type:'Point',coordinates:a.GeoJSON.latLngToCoords(this.getLatLng())})}};a.Marker.include(g),a.Circle.include(g),a.CircleMarker.include(g),a.Polyline.prototype.toGeoJSON=function(){var e=!a.Polyline._flat(this._latlngs),f=a.GeoJSON.latLngsToCoords(this._latlngs,e?1:0);return a.GeoJSON.getFeature(this,{type:(e?'Multi':'')+'LineString',coordinates:f})},a.Polygon.prototype.toGeoJSON=function(){var f=!a.Polyline._flat(this._latlngs),g=f&&!a.Polyline._flat(this._latlngs[0]),e=a.GeoJSON.latLngsToCoords(this._latlngs,g?2:f?1:0,!0);return f||(e=[e]),a.GeoJSON.getFeature(this,{type:(g?'Multi':'')+'Polygon',coordinates:e})},a.LayerGroup.include({toMultiPoint:function(){var e=[];return this.eachLayer(function(a){e.push(a.toGeoJSON().geometry.coordinates)}),a.GeoJSON.getFeature(this,{type:'MultiPoint',coordinates:e})},toGeoJSON:function(){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if('MultiPoint'===g){return this.toMultiPoint()}var f='GeometryCollection'===g,e=[];return this.eachLayer(function(h){if(h.toGeoJSON){var g=h.toGeoJSON();e.push(f?g.geometry:a.GeoJSON.asFeature(g))}}),f?a.GeoJSON.getFeature(this,{geometries:e,type:'GeometryCollection'}):{type:'FeatureCollection',features:e}}}),a.geoJSON=function(f,e){return new a.GeoJSON(f,e)},a.geoJson=a.geoJSON;var f='_leaflet_events';a.DomEvent={on:function(i,e,g,k){if('object'==typeof e){for(var h in e){this._on(i,h,e[h],g)}}else {e=a.Util.splitWords(e);for(var f=0,j=e.length;f<j;f++){this._on(i,e[f],g,k)}}return this},off:function(i,e,g,k){if('object'==typeof e){for(var h in e){this._off(i,h,e[h],g)}}else {e=a.Util.splitWords(e);for(var f=0,j=e.length;f<j;f++){this._off(i,e[f],g,k)}}return this},_on:function(e,g,l,j){var i=g+a.stamp(l)+(j?'_'+a.stamp(j):'');if(e[f]&&e[f][i]){return this}var h=function(a){return l.call(j||e,a||d.event)},k=h;return a.Browser.pointer&&0===g.indexOf('touch')?this.addPointerListener(e,g,h,i):a.Browser.touch&&'dblclick'===g&&this.addDoubleTapListener?this.addDoubleTapListener(e,h,i):'addEventListener' in e?'mousewheel'===g?e.addEventListener('onwheel' in e?'wheel':'mousewheel',h,!1):'mouseenter'===g||'mouseleave'===g?(h=function(f){f=f||d.event,a.DomEvent._isExternalTarget(e,f)&&k(f)},e.addEventListener('mouseenter'===g?'mouseover':'mouseout',h,!1)):('click'===g&&a.Browser.android&&(h=function(f){return a.DomEvent._filterClick(f,k)}),e.addEventListener(g,h,!1)):'attachEvent' in e&&e.attachEvent('on'+g,h),e[f]=e[f]||{},e[f][i]=h,this},_off:function(e,g,k,j){var i=g+a.stamp(k)+(j?'_'+a.stamp(j):''),h=e[f]&&e[f][i];return h?(a.Browser.pointer&&0===g.indexOf('touch')?this.removePointerListener(e,g,i):a.Browser.touch&&'dblclick'===g&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,i):'removeEventListener' in e?'mousewheel'===g?e.removeEventListener('onwheel' in e?'wheel':'mousewheel',h,!1):e.removeEventListener('mouseenter'===g?'mouseover':'mouseleave'===g?'mouseout':g,h,!1):'detachEvent' in e&&e.detachEvent('on'+g,h),e[f][i]=null,this):this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,a.DomEvent._skipped(e),this},disableScrollPropagation:function(e){return a.DomEvent.on(e,'mousewheel',a.DomEvent.stopPropagation)},disableClickPropagation:function(f){var e=a.DomEvent.stopPropagation;return a.DomEvent.on(f,a.Draggable.START.join(' '),e),a.DomEvent.on(f,{click:a.DomEvent._fakeStop,dblclick:e})},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(e){return a.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(f,e){if(!e){return new a.Point(f.clientX,f.clientY)}var g=e.getBoundingClientRect();return new a.Point(f.clientX-g.left-e.clientLeft,f.clientY-g.top-e.clientTop)},_wheelPxFactor:a.Browser.win&&a.Browser.chrome?2:a.Browser.gecko?d.devicePixelRatio:1,getWheelDelta:function(e){return e.deltaY&&0===e.deltaMode?-e.deltaY/a.DomEvent._wheelPxFactor:e.deltaY&&1===e.deltaMode?18*-e.deltaY:e.deltaY&&2===e.deltaMode?52*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?18*-e.detail:e.detail?e.detail/-32765*52:0},_skipEvents:{},_fakeStop:function(e){a.DomEvent._skipEvents[e.type]=!0},_skipped:function(a){var e=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,e},_isExternalTarget:function(e,f){var a=f.relatedTarget;if(!a){return !0}try{for(;a&&a!==e;){a=a.parentNode}}catch(i){return !1}return a!==e},_filterClick:function(e,h){var g=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,f=a.DomEvent._lastClick&&g-a.DomEvent._lastClick;return f&&f>100&&f<500||e.target._simulatedClick&&!e._simulated?void a.DomEvent.stop(e):(a.DomEvent._lastClick=g,void h(e))}},a.DomEvent.addListener=a.DomEvent.on,a.DomEvent.removeListener=a.DomEvent.off,a.Draggable=a.Evented.extend({options:{clickTolerance:3},statics:{START:a.Browser.touch?['touchstart','mousedown']:['mousedown'],END:{mousedown:'mouseup',touchstart:'touchend',pointerdown:'touchend',MSPointerDown:'touchend'},MOVE:{mousedown:'mousemove',touchstart:'touchmove',pointerdown:'touchmove',MSPointerDown:'touchmove'}},initialize:function(a,e,f){this._element=a,this._dragStartTarget=e||a,this._preventOutline=f},enable:function(){this._enabled||(a.DomEvent.on(this._dragStartTarget,a.Draggable.START.join(' '),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(a.DomEvent.off(this._dragStartTarget,a.Draggable.START.join(' '),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&(this._moved=!1,!a.DomUtil.hasClass(this._element,'leaflet-zoom-anim')&&!(a.Draggable._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&this._enabled&&(a.Draggable._dragging=!0,this._preventOutline&&a.DomUtil.preventOutline(this._element),a.DomUtil.disableImageDrag(),a.DomUtil.disableTextSelection(),!this._moving))){this.fire('down');var f=e.touches?e.touches[0]:e;this._startPoint=new a.Point(f.clientX,f.clientY),a.DomEvent.on(b,a.Draggable.MOVE[e.type],this._onMove,this).on(b,a.Draggable.END[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated){if(e.touches&&e.touches.length>1){return void (this._moved=!0)}var g=e.touches&&1===e.touches.length?e.touches[0]:e,h=new a.Point(g.clientX,g.clientY),f=h.subtract(this._startPoint);(f.x||f.y)&&(Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(a.DomEvent.preventDefault(e),this._moved||(this.fire('dragstart'),this._moved=!0,this._startPos=a.DomUtil.getPosition(this._element).subtract(f),a.DomUtil.addClass(b.body,'leaflet-dragging'),this._lastTarget=e.target||e.srcElement,d.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),a.DomUtil.addClass(this._lastTarget,'leaflet-drag-target')),this._newPos=this._startPos.add(f),this._moving=!0,a.Util.cancelAnimFrame(this._animRequest),this._lastEvent=e,this._animRequest=a.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire('predrag',e),a.DomUtil.setPosition(this._element,this._newPos),this.fire('drag',e)},_onUp:function(f){if(!f._simulated){a.DomUtil.removeClass(b.body,'leaflet-dragging'),this._lastTarget&&(a.DomUtil.removeClass(this._lastTarget,'leaflet-drag-target'),this._lastTarget=null);for(var e in a.Draggable.MOVE){a.DomEvent.off(b,a.Draggable.MOVE[e],this._onMove,this).off(b,a.Draggable.END[e],this._onUp,this)}a.DomUtil.enableImageDrag(),a.DomUtil.enableTextSelection(),this._moved&&this._moving&&(a.Util.cancelAnimFrame(this._animRequest),this.fire('dragend',{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,a.Draggable._dragging=!1}}}),a.Handler=a.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return !!this._enabled}}),a.Map.mergeOptions({dragging:!0,inertia:!a.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:0.2,worldCopyJump:!1,maxBoundsViscosity:0}),a.Map.Drag=a.Handler.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new a.Draggable(e._mapPane,e._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on('predrag',this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on('predrag',this._onPreDragWrap,this),e.on('zoomend',this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}a.DomUtil.addClass(this._map._container,'leaflet-grab leaflet-touch-drag'),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){a.DomUtil.removeClass(this._map._container,'leaflet-grab'),a.DomUtil.removeClass(this._map._container,'leaflet-touch-drag'),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var f=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=a.latLngBounds(this._map.options.maxBounds);this._offsetLimit=a.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else {this._offsetLimit=null}f.fire('movestart').fire('dragstart'),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var a=this._lastTime=+new Date(),f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(a),a-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire('move',e).fire('drag',e)},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,e){return a-(a-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;a.x<e.min.x&&(a.x=this._viscousLimit(a.x,e.min.x)),a.y<e.min.y&&(a.y=this._viscousLimit(a.y,e.min.y)),a.x>e.max.x&&(a.x=this._viscousLimit(a.x,e.max.x)),a.y>e.max.y&&(a.y=this._viscousLimit(a.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var f=this._worldWidth,e=Math.round(f/2),a=this._initialWorldOffset,g=this._draggable._newPos.x,h=(g-e+a)%f+e-a,i=(g+e+a)%f-e-a,j=Math.abs(h+a)<Math.abs(i+a)?h:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(q){var e=this._map,g=e.options,n=!g.inertia||this._times.length<2;if(e.fire('dragend',q),n){e.fire('moveend')}else {var p=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1000,h=g.easeLinearity,j=p.multiplyBy(h/o),k=j.distanceTo([0,0]),l=Math.min(g.inertiaMaxSpeed,k),m=j.multiplyBy(l/k),i=l/(g.inertiaDeceleration*h),f=m.multiplyBy(-i/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),a.Util.requestAnimFrame(function(){e.panBy(f,{duration:i,easeLinearity:h,noMoveStart:!0,animate:!0})})):e.fire('moveend')}}}),a.Map.addInitHook('addHandler','dragging',a.Map.Drag),a.Map.mergeOptions({doubleClickZoom:!0}),a.Map.DoubleClickZoom=a.Handler.extend({addHooks:function(){this._map.on('dblclick',this._onDoubleClick,this)},removeHooks:function(){this._map.off('dblclick',this._onDoubleClick,this)},_onDoubleClick:function(h){var a=this._map,e=a.getZoom(),f=a.options.zoomDelta,g=h.originalEvent.shiftKey?e-f:e+f;'center'===a.options.doubleClickZoom?a.setZoom(g):a.setZoomAround(h.containerPoint,g)}}),a.Map.addInitHook('addHandler','doubleClickZoom',a.Map.DoubleClickZoom),a.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:50}),a.Map.ScrollWheelZoom=a.Handler.extend({addHooks:function(){a.DomEvent.on(this._map._container,'mousewheel',this._onWheelScroll,this),this._delta=0},removeHooks:function(){a.DomEvent.off(this._map._container,'mousewheel',this._onWheelScroll,this)},_onWheelScroll:function(e){var f=a.DomEvent.getWheelDelta(e),g=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date());var h=Math.max(g-(+new Date()-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a.bind(this._performZoom,this),h),a.DomEvent.stop(e)},_performZoom:function(){var a=this._map,e=a.getZoom(),f=this._map.options.zoomSnap||0;a._stop();var j=this._delta/(4*this._map.options.wheelPxPerZoomLevel),h=4*Math.log(2/(1+Math.exp(-Math.abs(j))))/Math.LN2,i=f?Math.ceil(h/f)*f:h,g=a._limitZoom(e+(this._delta>0?i:-i))-e;this._delta=0,this._startTime=null,g&&('center'===a.options.scrollWheelZoom?a.setZoom(e+g):a.setZoomAround(this._lastMousePos,e+g))}}),a.Map.addInitHook('addHandler','scrollWheelZoom',a.Map.ScrollWheelZoom),a.extend(a.DomEvent,{_touchstart:a.Browser.msPointer?'MSPointerDown':a.Browser.pointer?'pointerdown':'touchstart',_touchend:a.Browser.msPointer?'MSPointerUp':a.Browser.pointer?'pointerup':'touchend',addDoubleTapListener:function(f,g,h){function n(j){var l;if(l=a.Browser.pointer?a.DomEvent._pointersCount:j.touches.length,!(l>1)){var k=Date.now(),n=k-(i||k);e=j.touches?j.touches[0]:j,m=n>0&&n<=o,i=k}}function s(){if(m&&!e.cancelBubble){if(a.Browser.pointer){var j,k,l={};for(k in e){j=e[k],l[k]=j&&j.bind?j.bind(e):j}e=l}e.type='dblclick',g(e),i=null}}var i,e,m=!1,o=250,j='_leaflet_',k=this._touchstart,l=this._touchend;return f[j+k+h]=n,f[j+l+h]=s,f[j+'dblclick'+h]=g,f.addEventListener(k,n,!1),f.addEventListener(l,s,!1),a.Browser.edge||f.addEventListener('dblclick',g,!1),this},removeDoubleTapListener:function(e,f){var g='_leaflet_',h=e[g+this._touchstart+f],j=e[g+this._touchend+f],i=e[g+'dblclick'+f];return e.removeEventListener(this._touchstart,h,!1),e.removeEventListener(this._touchend,j,!1),a.Browser.edge||e.removeEventListener('dblclick',i,!1),this}}),a.extend(a.DomEvent,{POINTER_DOWN:a.Browser.msPointer?'MSPointerDown':'pointerdown',POINTER_MOVE:a.Browser.msPointer?'MSPointerMove':'pointermove',POINTER_UP:a.Browser.msPointer?'MSPointerUp':'pointerup',POINTER_CANCEL:a.Browser.msPointer?'MSPointerCancel':'pointercancel',TAG_WHITE_LIST:['INPUT','SELECT','OPTION'],_pointers:{},_pointersCount:0,addPointerListener:function(g,a,e,f){return 'touchstart'===a?this._addPointerStart(g,e,f):'touchmove'===a?this._addPointerMove(g,e,f):'touchend'===a&&this._addPointerEnd(g,e,f),this},removePointerListener:function(a,e,g){var f=a['_leaflet_'+e+g];return 'touchstart'===e?a.removeEventListener(this.POINTER_DOWN,f,!1):'touchmove'===e?a.removeEventListener(this.POINTER_MOVE,f,!1):'touchend'===e&&(a.removeEventListener(this.POINTER_UP,f,!1),a.removeEventListener(this.POINTER_CANCEL,f,!1)),this},_addPointerStart:function(g,h,i){var f=a.bind(function(e){if('mouse'!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(e.target.tagName)<0)){return}a.DomEvent.preventDefault(e)}this._handlePointer(e,h)},this);if(g['_leaflet_touchstart'+i]=f,g.addEventListener(this.POINTER_DOWN,f,!1),!this._pointerDocListener){var e=a.bind(this._globalPointerUp,this);b.documentElement.addEventListener(this.POINTER_DOWN,a.bind(this._globalPointerDown,this),!0),b.documentElement.addEventListener(this.POINTER_MOVE,a.bind(this._globalPointerMove,this),!0),b.documentElement.addEventListener(this.POINTER_UP,e,!0),b.documentElement.addEventListener(this.POINTER_CANCEL,e,!0),this._pointerDocListener=!0}},_globalPointerDown:function(a){this._pointers[a.pointerId]=a,this._pointersCount++},_globalPointerMove:function(a){this._pointers[a.pointerId]&&(this._pointers[a.pointerId]=a)},_globalPointerUp:function(a){delete this._pointers[a.pointerId],this._pointersCount--},_handlePointer:function(a,e){a.touches=[];for(var f in this._pointers){a.touches.push(this._pointers[f])}a.changedTouches=[a],e(a)},_addPointerMove:function(f,g,h){var e=a.bind(function(a){(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&'mouse'!==a.pointerType||0!==a.buttons)&&this._handlePointer(a,g)},this);f['_leaflet_touchmove'+h]=e,f.addEventListener(this.POINTER_MOVE,e,!1)},_addPointerEnd:function(f,g,h){var e=a.bind(function(a){this._handlePointer(a,g)},this);f['_leaflet_touchend'+h]=e,f.addEventListener(this.POINTER_UP,e,!1),f.addEventListener(this.POINTER_CANCEL,e,!1)}}),a.Map.mergeOptions({touchZoom:a.Browser.touch&&!a.Browser.android23,bounceAtZoomLimits:!0}),a.Map.TouchZoom=a.Handler.extend({addHooks:function(){a.DomUtil.addClass(this._map._container,'leaflet-touch-zoom'),a.DomEvent.on(this._map._container,'touchstart',this._onTouchStart,this)},removeHooks:function(){a.DomUtil.removeClass(this._map._container,'leaflet-touch-zoom'),a.DomEvent.off(this._map._container,'touchstart',this._onTouchStart,this)},_onTouchStart:function(f){var e=this._map;if(f.touches&&2===f.touches.length&&!e._animatingZoom&&!this._zooming){var g=e.mouseEventToContainerPoint(f.touches[0]),h=e.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),'center'!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(g.add(h)._divideBy(2))),this._startDist=g.distanceTo(h),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),a.DomEvent.on(b,'touchmove',this._onTouchMove,this).on(b,'touchend',this._onTouchEnd,this),a.DomEvent.preventDefault(f)}},_onTouchMove:function(g){if(g.touches&&2===g.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(g.touches[0]),j=e.mouseEventToContainerPoint(g.touches[1]),f=i.distanceTo(j)/this._startDist;if(this._zoom=e.getScaleZoom(f,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&f<1||this._zoom>e.getMaxZoom()&&f>1)&&(this._zoom=e._limitZoom(this._zoom)),'center'===e.options.touchZoom){if(this._center=this._startLatLng,1===f){return}}else {var h=i._add(j)._divideBy(2)._subtract(this._centerPoint);if(1===f&&0===h.x&&0===h.y){return}this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),a.Util.cancelAnimFrame(this._animRequest);var k=a.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=a.Util.requestAnimFrame(k,this,!0),a.DomEvent.preventDefault(g)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,a.Util.cancelAnimFrame(this._animRequest),a.DomEvent.off(b,'touchmove',this._onTouchMove).off(b,'touchend',this._onTouchEnd),void (this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.snapZoom):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void (this._zooming=!1)}}),a.Map.addInitHook('addHandler','touchZoom',a.Map.TouchZoom),a.Map.mergeOptions({tap:!0,tapTolerance:15}),a.Map.Tap=a.Handler.extend({addHooks:function(){a.DomEvent.on(this._map._container,'touchstart',this._onDown,this)},removeHooks:function(){a.DomEvent.off(this._map._container,'touchstart',this._onDown,this)},_onDown:function(f){if(f.touches){if(a.DomEvent.preventDefault(f),this._fireClick=!0,f.touches.length>1){return this._fireClick=!1,void clearTimeout(this._holdTimeout)}var e=f.touches[0],g=e.target;this._startPos=this._newPos=new a.Point(e.clientX,e.clientY),g.tagName&&'a'===g.tagName.toLowerCase()&&a.DomUtil.addClass(g,'leaflet-active'),this._holdTimeout=setTimeout(a.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent('contextmenu',e))},this),1000),this._simulateEvent('mousedown',e),a.DomEvent.on(b,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(g){if(clearTimeout(this._holdTimeout),a.DomEvent.off(b,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&g&&g.changedTouches){var f=g.changedTouches[0],e=f.target;e&&e.tagName&&'a'===e.tagName.toLowerCase()&&a.DomUtil.removeClass(e,'leaflet-active'),this._simulateEvent('mouseup',f),this._isTapValid()&&this._simulateEvent('click',f)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(f){var e=f.touches[0];this._newPos=new a.Point(e.clientX,e.clientY),this._simulateEvent('mousemove',e)},_simulateEvent:function(f,a){var e=b.createEvent('MouseEvents');e._simulated=!0,a.target._simulatedClick=!0,e.initMouseEvent(f,!0,!0,d,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(e)}}),a.Browser.touch&&!a.Browser.pointer&&a.Map.addInitHook('addHandler','tap',a.Map.Tap),a.Map.mergeOptions({boxZoom:!0}),a.Map.BoxZoom=a.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane},addHooks:function(){a.DomEvent.on(this._container,'mousedown',this._onMouseDown,this)},removeHooks:function(){a.DomEvent.off(this._container,'mousedown',this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(e){return !(!e.shiftKey||1!==e.which&&1!==e.button)&&(this._resetState(),a.DomUtil.disableTextSelection(),a.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(e),void a.DomEvent.on(b,{contextmenu:a.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(g){this._moved||(this._moved=!0,this._box=a.DomUtil.create('div','leaflet-zoom-box',this._container),a.DomUtil.addClass(this._container,'leaflet-crosshair'),this._map.fire('boxzoomstart')),this._point=this._map.mouseEventToContainerPoint(g);var e=new a.Bounds(this._point,this._startPoint),f=e.getSize();a.DomUtil.setPosition(this._box,e.min),this._box.style.width=f.x+'px',this._box.style.height=f.y+'px'},_finish:function(){this._moved&&(a.DomUtil.remove(this._box),a.DomUtil.removeClass(this._container,'leaflet-crosshair')),a.DomUtil.enableTextSelection(),a.DomUtil.enableImageDrag(),a.DomEvent.off(b,{contextmenu:a.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if((1===f.which||1===f.button)&&(this._finish(),this._moved)){setTimeout(a.bind(this._resetState,this),0);var e=new a.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire('boxzoomend',{boxZoomBounds:e})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),a.Map.addInitHook('addHandler','boxZoom',a.Map.BoxZoom),a.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),a.Map.Keyboard=a.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex='0'),a.DomEvent.on(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),a.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=b.body,e=b.documentElement,f=a.scrollTop||e.scrollTop,g=a.scrollLeft||e.scrollLeft;this._map._container.focus(),d.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire('focus')},_onBlur:function(){this._focused=!1,this._map.fire('blur')},_setPanDelta:function(h){var a,e,g=this._panKeys={},f=this.keyCodes;for(a=0,e=f.left.length;a<e;a++){g[f.left[a]]=[-1*h,0]}for(a=0,e=f.right.length;a<e;a++){g[f.right[a]]=[h,0]}for(a=0,e=f.down.length;a<e;a++){g[f.down[a]]=[0,h]}for(a=0,e=f.up.length;a<e;a++){g[f.up[a]]=[0,-1*h]}},_setZoomDelta:function(h){var a,e,g=this._zoomKeys={},f=this.keyCodes;for(a=0,e=f.zoomIn.length;a<e;a++){g[f.zoomIn[a]]=h}for(a=0,e=f.zoomOut.length;a<e;a++){g[f.zoomOut[a]]=-h}},_addHooks:function(){a.DomEvent.on(b,'keydown',this._onKeyDown,this)},_removeHooks:function(){a.DomEvent.off(b,'keydown',this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var h,g=f.keyCode,e=this._map;if(g in this._panKeys){if(e._panAnim&&e._panAnim._inProgress){return}h=this._panKeys[g],f.shiftKey&&(h=a.point(h).multiplyBy(3)),e.panBy(h),e.options.maxBounds&&e.panInsideBounds(e.options.maxBounds)}else {if(g in this._zoomKeys){e.setZoom(e.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[g])}else {if(27!==g){return}e.closePopup()}}a.DomEvent.stop(f)}}}),a.Map.addInitHook('addHandler','keyboard',a.Map.Keyboard),a.Handler.MarkerDrag=a.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new a.Draggable(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),a.DomUtil.addClass(e,'leaflet-marker-draggable')},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&a.DomUtil.removeClass(this._marker._icon,'leaflet-marker-draggable')},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire('movestart').fire('dragstart')},_onDrag:function(f){var e=this._marker,g=e._shadow,h=a.DomUtil.getPosition(e._icon),i=e._map.layerPointToLatLng(h);g&&a.DomUtil.setPosition(g,h),e._latlng=i,f.latlng=i,e.fire('move',f).fire('drag',f)},_onDragEnd:function(a){this._marker.fire('moveend').fire('dragend',a)}}),a.Control=a.Class.extend({options:{position:'topright'},initialize:function(e){a.setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var a=this._map;return a&&a.removeControl(this),this.options.position=e,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(g){this.remove(),this._map=g;var e=this._container=this.onAdd(g),h=this.getPosition(),f=g._controlCorners[h];return a.DomUtil.addClass(e,'leaflet-control'),h.indexOf('bottom')!==-1?f.insertBefore(e,f.firstChild):f.appendChild(e),this},remove:function(){return this._map?(a.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),a.control=function(e){return new a.Control(e)},a.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){function t(i,h){var j=e+i+' '+e+h;f[i+h]=a.DomUtil.create('div',j,g)}var f=this._controlCorners={},e='leaflet-',g=this._controlContainer=a.DomUtil.create('div',e+'control-container',this._container);t('top','left'),t('top','right'),t('bottom','left'),t('bottom','right')},_clearControlPos:function(){a.DomUtil.remove(this._controlContainer)}}),a.Control.Zoom=a.Control.extend({options:{position:'topleft',zoomInText:'+',zoomInTitle:'Zoom in',zoomOutText:'-',zoomOutTitle:'Zoom out'},onAdd:function(h){var f='leaflet-control-zoom',g=a.DomUtil.create('div',f+' leaflet-bar'),e=this.options;return this._zoomInButton=this._createButton(e.zoomInText,e.zoomInTitle,f+'-in',g,this._zoomIn),this._zoomOutButton=this._createButton(e.zoomOutText,e.zoomOutTitle,f+'-out',g,this._zoomOut),this._updateDisabled(),h.on('zoomend zoomlevelschange',this._updateDisabled,this),g},onRemove:function(a){a.off('zoomend zoomlevelschange',this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){this._disabled||this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){this._disabled||this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(j,f,g,h,i){var e=a.DomUtil.create('a',g,h);return e.innerHTML=j,e.href='#',e.title=f,a.DomEvent.on(e,'mousedown dblclick',a.DomEvent.stopPropagation).on(e,'click',a.DomEvent.stop).on(e,'click',i,this).on(e,'click',this._refocusOnMap,this),e},_updateDisabled:function(){var f=this._map,e='leaflet-disabled';a.DomUtil.removeClass(this._zoomInButton,e),a.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||f._zoom===f.getMinZoom())&&a.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||f._zoom===f.getMaxZoom())&&a.DomUtil.addClass(this._zoomInButton,e)}}),a.Map.mergeOptions({zoomControl:!0}),a.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new a.Control.Zoom(),this.addControl(this.zoomControl))}),a.control.zoom=function(e){return new a.Control.Zoom(e)},a.Control.Attribution=a.Control.extend({options:{position:'bottomright',prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){a.setOptions(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=a.DomUtil.create('div','leaflet-control-attribution'),a.DomEvent&&a.DomEvent.disableClickPropagation(this._container);for(var f in e._layers){e._layers[f].getAttribution&&this.addAttribution(e._layers[f].getAttribution())}return this._update(),this._container},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var f in this._attributions){this._attributions[f]&&e.push(f)}var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(', ')),this._container.innerHTML=a.join(' | ')}}}),a.Map.mergeOptions({attributionControl:!0}),a.Map.addInitHook(function(){this.options.attributionControl&&(new a.Control.Attribution()).addTo(this)}),a.control.attribution=function(e){return new a.Control.Attribution(e)},a.Control.Scale=a.Control.extend({options:{position:'bottomleft',maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var e='leaflet-control-scale',f=a.DomUtil.create('div',e),g=this.options;return this._addScales(g,e+'-line',f),h.on(g.updateWhenIdle?'moveend':'move',this._update,this),h.whenReady(this._update,this),f},onRemove:function(a){a.off(this.options.updateWhenIdle?'moveend':'move',this._update,this)},_addScales:function(g,e,f){g.metric&&(this._mScale=a.DomUtil.create('div',e,f)),g.imperial&&(this._iScale=a.DomUtil.create('div',e,f))},_update:function(){var a=this._map,e=a.getSize().y/2,f=a.distance(a.containerPointToLatLng([0,e]),a.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(f)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(e){var a=this._getRoundNum(e),f=a<1000?a+' m':a/1000+' km';this._updateScale(this._mScale,f,a/e)},_updateImperial:function(h){var e,f,g,a=3.2808399*h;a>5280?(e=a/5280,f=this._getRoundNum(e),this._updateScale(this._iScale,f+' mi',f/e)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+' ft',g/a))},_updateScale:function(a,e,f){a.style.width=Math.round(this.options.maxWidth*f)+'px',a.innerHTML=e},_getRoundNum:function(f){var e=Math.pow(10,(Math.floor(f)+'').length-1),a=f/e;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,e*a}}),a.control.scale=function(e){return new a.Control.Scale(e)},a.Control.Layers=a.Control.extend({options:{collapsed:!0,position:'topright',autoZIndex:!0,hideSingleBase:!1},initialize:function(g,f,h){a.setOptions(this,h),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var e in g){this._addLayer(g[e],e)}for(e in f){this._addLayer(f[e],e,!0)}},onAdd:function(a){return this._initLayout(),this._update(),this._map=a,a.on('zoomend',this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off('zoomend',this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++){this._layers[a].layer.off('add remove',this._onLayerChange,this)}},addBaseLayer:function(e,a){return this._addLayer(e,a),this._map?this._update():this},addOverlay:function(e,a){return this._addLayer(e,a,!0),this._map?this._update():this},removeLayer:function(f){f.off('add remove',this._onLayerChange,this);var e=this._getLayer(a.stamp(f));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){a.DomUtil.addClass(this._container,'leaflet-control-layers-expanded'),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(a.DomUtil.addClass(this._form,'leaflet-control-layers-scrollbar'),this._form.style.height=e+'px'):a.DomUtil.removeClass(this._form,'leaflet-control-layers-scrollbar'),this._checkDisabledLayers(),this},collapse:function(){return a.DomUtil.removeClass(this._container,'leaflet-control-layers-expanded'),this},_initLayout:function(){var f='leaflet-control-layers',e=this._container=a.DomUtil.create('div',f);e.setAttribute('aria-haspopup',!0),a.DomEvent.disableClickPropagation(e),a.Browser.touch||a.DomEvent.disableScrollPropagation(e);var g=this._form=a.DomUtil.create('form',f+'-list');if(this.options.collapsed){a.Browser.android||a.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this);var h=this._layersLink=a.DomUtil.create('a',f+'-toggle',e);h.href='#',h.title='Layers',a.Browser.touch?a.DomEvent.on(h,'click',a.DomEvent.stop).on(h,'click',this.expand,this):a.DomEvent.on(h,'focus',this.expand,this),a.DomEvent.on(g,'click',function(){setTimeout(a.bind(this._onInputClick,this),0)},this),this._map.on('click',this.collapse,this)}else {this.expand()}this._baseLayersList=a.DomUtil.create('div',f+'-base',g),this._separator=a.DomUtil.create('div',f+'-separator',g),this._overlaysList=a.DomUtil.create('div',f+'-overlays',g),e.appendChild(g)},_getLayer:function(f){for(var e=0;e<this._layers.length;e++){if(this._layers[e]&&a.stamp(this._layers[e].layer)===f){return this._layers[e]}}},_addLayer:function(a,e,f){a.on('add remove',this._onLayerChange,this),this._layers.push({layer:a,name:e,overlay:f}),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(!this._container){return this}a.DomUtil.empty(this._baseLayersList),a.DomUtil.empty(this._overlaysList);var e,h,g,f,i=0;for(g=0;g<this._layers.length;g++){f=this._layers[g],this._addItem(f),h=h||f.overlay,e=e||!f.overlay,i+=f.overlay?0:1}return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?'':'none'),this._separator.style.display=h&&e?'':'none',this},_onLayerChange:function(e){this._handlingClick||this._update();var f=this._getLayer(a.stamp(e.target)),g=f.overlay?'add'===e.type?'overlayadd':'overlayremove':'add'===e.type?'baselayerchange':null;g&&this._map.fire(g,f)},_createRadioElement:function(g,e){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+g+'"'+(e?' checked="checked"':'')+'/>',a=b.createElement('div');return a.innerHTML=f,a.firstChild},_addItem:function(f){var e,h=b.createElement('label'),j=this._map.hasLayer(f.layer);f.overlay?(e=b.createElement('input'),e.type='checkbox',e.className='leaflet-control-layers-selector',e.defaultChecked=j):e=this._createRadioElement('leaflet-base-layers',j),e.layerId=a.stamp(f.layer),a.DomEvent.on(e,'click',this._onInputClick,this);var i=b.createElement('span');i.innerHTML=' '+f.name;var g=b.createElement('div');h.appendChild(g),g.appendChild(e),g.appendChild(i);var k=f.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){var f,e,g,j=this._form.getElementsByTagName('input'),h=[],i=[];this._handlingClick=!0;for(var a=j.length-1;a>=0;a--){f=j[a],e=this._getLayer(f.layerId).layer,g=this._map.hasLayer(e),f.checked&&!g?h.push(e):!f.checked&&g&&i.push(e)}for(a=0;a<i.length;a++){this._map.removeLayer(i[a])}for(a=0;a<h.length;a++){this._map.addLayer(h[a])}this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var f,a,g=this._form.getElementsByTagName('input'),h=this._map.getZoom(),e=g.length-1;e>=0;e--){f=g[e],a=this._getLayer(f.layerId).layer,f.disabled=a.options.minZoom!==c&&h<a.options.minZoom||a.options.maxZoom!==c&&h>a.options.maxZoom}},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),a.control.layers=function(g,e,f){return new a.Control.Layers(g,e,f)},a.PosAnimation=a.Evented.extend({run:function(e,f,g,h){this.stop(),this._el=e,this._inProgress=!0,this._duration=g||0.25,this._easeOutPower=1/Math.max(h||0.5,0.2),this._startPos=a.DomUtil.getPosition(e),this._offset=f.subtract(this._startPos),this._startTime=+new Date(),this.fire('start'),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=a.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(f){var a=+new Date()-this._startTime,e=1000*this._duration;a<e?this._runFrame(this._easeOut(a/e),f):(this._runFrame(1),this._complete())},_runFrame:function(g,f){var e=this._startPos.add(this._offset.multiplyBy(g));f&&e._round(),a.DomUtil.setPosition(this._el,e),this.fire('step')},_complete:function(){a.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire('end')},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),a.Map.include({setView:function(g,f,e){if(f=f===c?this._zoom:this._limitZoom(f),g=this._limitCenter(a.latLng(g),f,this.options.maxBounds),e=e||{},this._stop(),this._loaded&&!e.reset&&e!==!0){e.animate!==c&&(e.zoom=a.extend({animate:e.animate},e.zoom),e.pan=a.extend({animate:e.animate,duration:e.duration},e.pan));var h=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(g,f,e.zoom):this._tryAnimatedPan(g,e.pan);if(h){return clearTimeout(this._sizeTimer),this}}return this._resetView(g,f),this},panBy:function(e,f){if(e=a.point(e).round(),f=f||{},!e.x&&!e.y){return this.fire('moveend')}if(f.animate!==!0&&!this.getSize().contains(e)){return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this}if(this._panAnim||(this._panAnim=new a.PosAnimation(),this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire('movestart'),f.animate!==!1){a.DomUtil.addClass(this._mapPane,'leaflet-pan-anim');var g=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,g,f.duration||0.25,f.easeLinearity)}else {this._rawPanBy(e),this.fire('move').fire('moveend')}return this},_onPanTransitionStep:function(){this.fire('move')},_onPanTransitionEnd:function(){a.DomUtil.removeClass(this._mapPane,'leaflet-pan-anim'),this.fire('moveend')},_tryAnimatedPan:function(f,a){var e=this._getCenterOffset(f)._floor();return !((a&&a.animate)!==!0&&!this.getSize().contains(e))&&(this.panBy(e,a),!0)}}),a.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var h=a.DomUtil.TRANSITION&&a.Browser.any3d&&!a.Browser.mobileOpera;h&&a.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),a.DomEvent.on(this._proxy,a.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),a.Map.include(h?{_createAnimProxy:function(){var e=this._proxy=a.DomUtil.create('div','leaflet-proxy leaflet-zoom-animated');this._panes.mapPane.appendChild(e),this.on('zoomanim',function(f){var g=a.DomUtil.TRANSFORM,h=e.style[g];a.DomUtil.setTransform(e,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),h===e.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on('load moveend',function(){var g=this.getCenter(),f=this.getZoom();a.DomUtil.setTransform(e,this.project(g,f),this.getZoomScale(f,1))},this)},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf('transform')>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return !this._container.getElementsByClassName('leaflet-zoom-animated').length},_tryAnimatedZoom:function(g,f,e){if(this._animatingZoom){return !0}if(e=e||{},!this._zoomAnimated||e.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold){return !1}var h=this.getZoomScale(f),i=this._getCenterOffset(g)._divideBy(1-1/h);return !(e.animate!==!0&&!this.getSize().contains(i))&&(a.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(g,f,!0)},this),!0)},_animateZoom:function(f,e,g,h){g&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=e,a.DomUtil.addClass(this._mapPane,'leaflet-zoom-anim')),this.fire('zoomanim',{center:f,zoom:e,noUpdate:h}),setTimeout(a.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(a.DomUtil.removeClass(this._mapPane,'leaflet-zoom-anim'),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),a.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),a.Map.include({flyTo:function(k,f,g){function s(i){var l=i?-1:1,n=i?q:e,p=q*q-e*e+l*m*m*o*o,r=2*n*m*o,a=p/r,h=Math.sqrt(a*a+1)-a,j=h<1.0E-9?-18:Math.log(h);return j}function r(a){return (Math.exp(a)-Math.exp(-a))/2}function a(a){return (Math.exp(a)+Math.exp(-a))/2}function h(e){return r(e)/a(e)}function l(h){return e*(a(i)/a(i+j*h))}function u(l){return e*(a(i)*h(i+j*l)-r(i))/m}function c(a){return 1-Math.pow(1-a,1.5)}function d(){var h=(Date.now()-y)/x,i=c(h)*w;h<=1?(this._flyToFrame=a.Util.requestAnimFrame(d,this),this._move(this.unproject(p.add(t.subtract(p).multiplyBy(u(i)/o)),n),this.getScaleZoom(e/l(i),n),{flyTo:!0})):this._move(k,f)._moveEnd(!0)}if(g=g||{},g.animate===!1||!a.Browser.any3d){return this.setView(k,f,g)}this._stop();var p=this.project(this.getCenter()),t=this.project(k),v=this.getSize(),n=this._zoom;k=a.latLng(k),f=f===c?n:f;var e=Math.max(v.x,v.y),q=e*this.getZoomScale(n,f),o=t.distanceTo(p)||1,j=1.42,m=j*j,i=s(0),y=Date.now(),w=(s(1)-i)/j,x=g.duration?1000*g.duration:1000*w*0.8;return this._moveStart(!0),d.call(this),this},flyToBounds:function(f,a){var e=this._getBoundsCenterZoom(f,a);return this.flyTo(e.center,e.zoom,a)}}),a.Map.include({_defaultLocateOptions:{timeout:10000,watch:!1},locate:function(e){if(e=this._locateOptions=a.extend({},this._defaultLocateOptions,e),!('geolocation' in navigator)){return this._handleGeolocationError({code:0,message:'Geolocation not supported.'}),this}var f=a.bind(this._handleGeolocationResponse,this),g=a.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,g,e):navigator.geolocation.getCurrentPosition(f,g,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var a=e.code,f=e.message||(1===a?'permission denied':2===a?'position unavailable':'timeout');this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire('locationerror',{code:a,message:'Geolocation error: '+f+'.'})},_handleGeolocationResponse:function(e){var l=e.coords.latitude,m=e.coords.longitude,g=new a.LatLng(l,m),k=g.toBounds(e.coords.accuracy),h=this._locateOptions;if(h.setView){var i=this.getBoundsZoom(k);this.setView(g,h.maxZoom?Math.min(i,h.maxZoom):i)}var j={latlng:g,bounds:k,timestamp:e.timestamp};for(var f in e.coords){'number'==typeof e.coords[f]&&(j[f]=e.coords[f])}this.fire('locationfound',j)}})}(window,document);